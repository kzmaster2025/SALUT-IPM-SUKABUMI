<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SALUT IPM KOTA SUKABUMI - Universitas Terbuka</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Poppins', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .fade-in { animation: fadeIn 0.6s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        .sidebar-transition { transition: transform 0.3s ease; }
        .sidebar-hidden { transform: translateX(-100%); }
        .form-step { display: none; }
        .form-step.active { display: block; }
        .progress-bar { width: 0%; transition: width 0.3s ease; }
        .notification { position: fixed; top: 20px; right: 20px; z-index: 1001; transform: translateX(400px); transition: transform 0.3s ease; }
        .notification.show { transform: translateX(0); }
        .staff-filter-btn { color: #6b7280; }
        .staff-filter-btn.active { background-color: #3b82f6; color: white; }
        .staff-filter-btn:hover { background-color: #e5e7eb; }
        .staff-filter-btn.active:hover { background-color: #2563eb; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Notification -->
    <div id="notification" class="notification bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg">
        <div class="flex items-center">
            <i class="fas fa-check-circle mr-2"></i>
            <span id="notificationText">Berhasil!</span>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="gradient-bg text-white shadow-lg fixed w-full top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="bg-white text-blue-600 p-2 rounded-full">
                        <i class="fas fa-graduation-cap text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">SALUT IPM KOTA SUKABUMI</h1>
                        <p class="text-sm text-blue-200">Universitas Terbuka</p>
                    </div>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#" onclick="showSection('beranda')" class="hover:text-blue-200 transition-colors">Beranda</a>
                    <a href="#" onclick="showSection('tentang')" class="hover:text-blue-200 transition-colors">Tentang</a>
                    <a href="#" onclick="showSection('program')" class="hover:text-blue-200 transition-colors">Program Studi</a>
                    <a href="#" onclick="showSection('pendaftaran')" class="hover:text-blue-200 transition-colors">Pendaftaran</a>
                    <a href="#" onclick="showSection('informasi')" class="hover:text-blue-200 transition-colors">Informasi</a>
                    <a href="#" onclick="showSection('staff')" class="hover:text-blue-200 transition-colors">Staff & Dosen</a>
                    <a href="#" onclick="showSection('pengurus')" class="hover:text-blue-200 transition-colors">Pengurus</a>
                    <a href="#" onclick="showSection('kontak')" class="hover:text-blue-200 transition-colors">Kontak</a>
                    <button onclick="showAdminLogin()" class="bg-white text-blue-600 px-4 py-2 rounded-full hover:bg-blue-100 transition-colors">
                        <i class="fas fa-user-shield mr-2"></i>Admin
                    </button>
                </div>
                <button class="md:hidden" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="fixed inset-0 bg-blue-600 text-white z-40 transform translate-x-full transition-transform duration-300 md:hidden">
        <div class="p-6">
            <button onclick="toggleMobileMenu()" class="float-right text-2xl">
                <i class="fas fa-times"></i>
            </button>
            <div class="mt-12 space-y-6">
                <a href="#" onclick="showSection('beranda'); toggleMobileMenu()" class="block text-xl">Beranda</a>
                <a href="#" onclick="showSection('tentang'); toggleMobileMenu()" class="block text-xl">Tentang</a>
                <a href="#" onclick="showSection('program'); toggleMobileMenu()" class="block text-xl">Program Studi</a>
                <a href="#" onclick="showSection('pendaftaran'); toggleMobileMenu()" class="block text-xl">Pendaftaran</a>
                <a href="#" onclick="showSection('informasi'); toggleMobileMenu()" class="block text-xl">Informasi</a>
                <a href="#" onclick="showSection('staff'); toggleMobileMenu()" class="block text-xl">Staff & Dosen</a>
                <a href="#" onclick="showSection('pengurus'); toggleMobileMenu()" class="block text-xl">Pengurus</a>
                <a href="#" onclick="showSection('kontak'); toggleMobileMenu()" class="block text-xl">Kontak</a>
                <button onclick="showAdminLogin(); toggleMobileMenu()" class="block text-xl">Admin</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="pt-20">
        <!-- Beranda Section -->
        <section id="beranda" class="section-content">
            <div class="gradient-bg text-white py-20">
                <div class="container mx-auto px-4 text-center">
                    <h2 class="text-5xl font-bold mb-6 fade-in">Selamat Datang di SALUT IPM</h2>
                    <p class="text-xl mb-4 fade-in">Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah</p>
                    <p class="text-lg mb-8 fade-in text-blue-200">Universitas Terbuka Kota Sukabumi</p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="showSection('pendaftaran')" class="bg-white text-blue-600 px-8 py-3 rounded-full font-semibold hover:bg-blue-100 transition-colors fade-in">
                            <i class="fas fa-user-plus mr-2"></i>Daftar Sekarang
                        </button>
                        <button onclick="showSection('program')" class="border-2 border-white text-white px-8 py-3 rounded-full font-semibold hover:bg-white hover:text-blue-600 transition-colors fade-in">
                            <i class="fas fa-book mr-2"></i>Lihat Program
                        </button>
                    </div>
                </div>
            </div>

            <!-- Features -->
            <div class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">Keunggulan Universitas Terbuka</h3>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="text-center p-6 bg-white rounded-lg shadow-lg card-hover">
                            <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-laptop text-blue-600 text-2xl"></i>
                            </div>
                            <h4 class="text-xl font-semibold mb-3">Pembelajaran Online</h4>
                            <p class="text-gray-600">Sistem pembelajaran jarak jauh yang fleksibel dan modern</p>
                        </div>
                        <div class="text-center p-6 bg-white rounded-lg shadow-lg card-hover">
                            <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-certificate text-purple-600 text-2xl"></i>
                            </div>
                            <h4 class="text-xl font-semibold mb-3">Terakreditasi</h4>
                            <p class="text-gray-600">Program studi terakreditasi dengan kualitas terjamin</p>
                        </div>
                        <div class="text-center p-6 bg-white rounded-lg shadow-lg card-hover">
                            <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-users text-green-600 text-2xl"></i>
                            </div>
                            <h4 class="text-xl font-semibold mb-3">Komunitas IPM</h4>
                            <p class="text-gray-600">Bergabung dengan komunitas mahasiswa IPM yang solid</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistics -->
            <div class="py-16 bg-gray-50">
                <div class="container mx-auto px-4">
                    <div class="grid md:grid-cols-4 gap-8 text-center">
                        <div class="bg-white p-6 rounded-lg shadow">
                            <div class="text-3xl font-bold text-blue-600 mb-2" id="totalMahasiswa">1,250</div>
                            <p class="text-gray-600">Total Mahasiswa</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow">
                            <div class="text-3xl font-bold text-purple-600 mb-2" id="programStudi">15</div>
                            <p class="text-gray-600">Program Studi</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow">
                            <div class="text-3xl font-bold text-green-600 mb-2" id="lulusan">850</div>
                            <p class="text-gray-600">Alumni</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow">
                            <div class="text-3xl font-bold text-orange-600 mb-2" id="tahunBerdiri">25</div>
                            <p class="text-gray-600">Tahun Pengalaman</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tentang Section -->
        <section id="tentang" class="section-content hidden">
            <div class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <div class="max-w-4xl mx-auto">
                        <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Tentang SALUT IPM UT Sukabumi</h2>
                        <div class="grid md:grid-cols-2 gap-12 items-center">
                            <div>
                                <h3 class="text-2xl font-semibold mb-6 text-blue-600">Visi & Misi</h3>
                                <div class="space-y-4">
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <h4 class="font-semibold text-blue-800 mb-2">Visi</h4>
                                        <p class="text-gray-700">Menjadi wadah terdepan bagi mahasiswa Universitas Terbuka yang berakhlak mulia dan berprestasi</p>
                                    </div>
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <h4 class="font-semibold text-blue-800 mb-2">Misi</h4>
                                        <ul class="text-gray-700 space-y-1">
                                            <li>• Memberikan layanan informasi akademik terpadu</li>
                                            <li>• Memfasilitasi pengembangan potensi mahasiswa</li>
                                            <li>• Menguatkan nilai-nilai Muhammadiyah dalam pendidikan</li>
                                            <li>• Membangun jaringan alumni yang kuat</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-500 to-purple-600 p-8 rounded-lg text-white">
                                <h3 class="text-2xl font-semibold mb-4">Keunggulan</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center space-x-3">
                                        <i class="fas fa-check-circle text-green-300"></i>
                                        <span>Pembelajaran Fleksibel</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <i class="fas fa-check-circle text-green-300"></i>
                                        <span>Biaya Terjangkau</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <i class="fas fa-check-circle text-green-300"></i>
                                        <span>Akreditasi Nasional</span>
                                    </div>
                                    <div class="flex items-center space-x-3">
                                        <i class="fas fa-check-circle text-green-300"></i>
                                        <span>Dukungan Tutorial</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Program Studi Section -->
        <section id="program" class="section-content hidden">
            <div class="py-16 bg-gray-50">
                <div class="container mx-auto px-4">
                    <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Program Studi</h2>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="programContainer">
                        <!-- Program studi akan dimuat di sini -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Pendaftaran Section -->
        <section id="pendaftaran" class="section-content hidden">
            <div class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <div class="max-w-4xl mx-auto">
                        <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Pendaftaran Mahasiswa Baru</h2>
                        
                        <!-- Progress Bar -->
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-medium text-blue-600">Langkah <span id="currentStep">1</span> dari 4</span>
                                <span class="text-sm font-medium text-blue-600"><span id="progressPercent">25</span>%</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-600 h-2 rounded-full progress-bar" id="progressBar" style="width: 25%"></div>
                            </div>
                        </div>

                        <form id="registrationForm" class="bg-white p-8 rounded-lg shadow-lg" onsubmit="submitRegistration(event)">
                            <!-- Step 1: Data Pribadi -->
                            <div class="form-step active" id="step1">
                                <h3 class="text-2xl font-semibold mb-6 text-center text-gray-800">Data Pribadi</h3>
                                <div class="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap *</label>
                                        <input type="text" id="namaLengkap" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">NIK *</label>
                                        <input type="text" id="nik" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Tempat Lahir *</label>
                                        <input type="text" id="tempatLahir" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal Lahir *</label>
                                        <input type="date" id="tanggalLahir" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Kelamin *</label>
                                        <select id="jenisKelamin" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                            <option value="">Pilih Jenis Kelamin</option>
                                            <option value="Laki-laki">Laki-laki</option>
                                            <option value="Perempuan">Perempuan</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Agama *</label>
                                        <select id="agama" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                            <option value="">Pilih Agama</option>
                                            <option value="Islam">Islam</option>
                                            <option value="Kristen">Kristen</option>
                                            <option value="Katolik">Katolik</option>
                                            <option value="Hindu">Hindu</option>
                                            <option value="Buddha">Buddha</option>
                                            <option value="Konghucu">Konghucu</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 2: Kontak & Alamat -->
                            <div class="form-step" id="step2">
                                <h3 class="text-2xl font-semibold mb-6 text-center text-gray-800">Kontak & Alamat</h3>
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                                            <input type="email" id="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">No. Telepon *</label>
                                            <input type="tel" id="telepon" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap *</label>
                                        <textarea id="alamat" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required></textarea>
                                    </div>
                                    <div class="grid md:grid-cols-3 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Provinsi *</label>
                                            <input type="text" id="provinsi" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Kota/Kabupaten *</label>
                                            <input type="text" id="kota" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Kode Pos *</label>
                                            <input type="text" id="kodePos" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 3: Pendidikan -->
                            <div class="form-step" id="step3">
                                <h3 class="text-2xl font-semibold mb-6 text-center text-gray-800">Riwayat Pendidikan</h3>
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Asal Sekolah/Universitas *</label>
                                            <input type="text" id="asalSekolah" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Jurusan *</label>
                                            <input type="text" id="jurusan" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Tahun Lulus *</label>
                                            <input type="number" id="tahunLulus" min="1990" max="2024" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Nilai Rata-rata</label>
                                            <input type="number" id="nilaiRata" step="0.01" min="0" max="100" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Step 4: Program Pilihan -->
                            <div class="form-step" id="step4">
                                <h3 class="text-2xl font-semibold mb-6 text-center text-gray-800">Program Pilihan</h3>
                                <div class="space-y-6">
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Program Studi Pilihan 1 *</label>
                                            <select id="prodi1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                                <option value="">Pilih Program Studi</option>
                                                <option value="Manajemen">Manajemen</option>
                                                <option value="Akuntansi">Akuntansi</option>
                                                <option value="Ekonomi Pembangunan">Ekonomi Pembangunan</option>
                                                <option value="Ilmu Komunikasi">Ilmu Komunikasi</option>
                                                <option value="Administrasi Publik">Administrasi Publik</option>
                                                <option value="Hukum">Hukum</option>
                                                <option value="Pendidikan Guru SD">Pendidikan Guru SD</option>
                                                <option value="Pendidikan Bahasa Inggris">Pendidikan Bahasa Inggris</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Program Studi Pilihan 2</label>
                                            <select id="prodi2" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                <option value="">Pilih Program Studi</option>
                                                <option value="Manajemen">Manajemen</option>
                                                <option value="Akuntansi">Akuntansi</option>
                                                <option value="Ekonomi Pembangunan">Ekonomi Pembangunan</option>
                                                <option value="Ilmu Komunikasi">Ilmu Komunikasi</option>
                                                <option value="Administrasi Publik">Administrasi Publik</option>
                                                <option value="Hukum">Hukum</option>
                                                <option value="Pendidikan Guru SD">Pendidikan Guru SD</option>
                                                <option value="Pendidikan Bahasa Inggris">Pendidikan Bahasa Inggris</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Motivasi Memilih UT</label>
                                        <textarea id="motivasi" rows="4" placeholder="Ceritakan motivasi Anda memilih Universitas Terbuka..." class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea>
                                    </div>
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <div class="flex items-start space-x-3">
                                            <input type="checkbox" id="agreement" class="mt-1" required>
                                            <label for="agreement" class="text-sm text-gray-700">
                                                Saya menyetujui <a href="#" class="text-blue-600 hover:underline">syarat dan ketentuan</a> yang berlaku dan bersedia mengikuti seluruh proses pendaftaran dengan jujur dan bertanggung jawab.
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Navigation Buttons -->
                            <div class="flex justify-between mt-8">
                                <button type="button" id="prevBtn" onclick="changeStep(-1)" class="bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition-colors" style="display: none;">
                                    <i class="fas fa-arrow-left mr-2"></i>Sebelumnya
                                </button>
                                <button type="button" id="nextBtn" onclick="changeStep(1)" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors ml-auto">
                                    Selanjutnya<i class="fas fa-arrow-right ml-2"></i>
                                </button>
                                <button type="submit" id="submitBtn" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors ml-auto" style="display: none;">
                                    <i class="fas fa-paper-plane mr-2"></i>Kirim Pendaftaran
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- Staff & Dosen Section -->
        <section id="staff" class="section-content hidden">
            <div class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Staff & Dosen</h2>
                    
                    <!-- Filter Tabs -->
                    <div class="flex justify-center mb-12">
                        <div class="bg-gray-100 p-1 rounded-lg">
                            <button onclick="filterStaff('all')" class="staff-filter-btn active px-6 py-2 rounded-md transition-colors">Semua</button>
                            <button onclick="filterStaff('dosen')" class="staff-filter-btn px-6 py-2 rounded-md transition-colors">Dosen</button>
                            <button onclick="filterStaff('tutor')" class="staff-filter-btn px-6 py-2 rounded-md transition-colors">Tutor</button>
                            <button onclick="filterStaff('pengajar')" class="staff-filter-btn px-6 py-2 rounded-md transition-colors">Pengajar</button>
                            <button onclick="filterStaff('admin')" class="staff-filter-btn px-6 py-2 rounded-md transition-colors">Admin</button>
                        </div>
                    </div>

                    <!-- Staff Grid -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8" id="staffContainer">
                        <!-- Staff cards will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Informasi Section -->
        <section id="informasi" class="section-content hidden">
            <div class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Informasi Terkini</h2>
                    <div class="max-w-4xl mx-auto space-y-8" id="informasiContainer">
                        <!-- Informasi akan dimuat di sini -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Pengurus Section -->
        <section id="pengurus" class="section-content hidden">
            <div class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Susunan Pengurus</h2>
                    <div class="max-w-6xl mx-auto">
                        <!-- Ketua SALUT IPM -->
                        <div class="text-center mb-12">
                            <h3 class="text-2xl font-semibold mb-8 text-blue-600">Ketua SALUT IPM</h3>
                            <div class="flex justify-center">
                                <div class="bg-white rounded-lg shadow-lg p-6 max-w-sm card-hover" id="ketuaUmum">
                                    <!-- Data ketua akan dimuat di sini -->
                                </div>
                            </div>
                        </div>

                        <!-- Pengurus Inti -->
                        <div class="mb-12">
                            <h3 class="text-2xl font-semibold text-center mb-8 text-blue-600">Pengurus Inti SALUT IPM</h3>
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="pengurusInti">
                                <!-- Data pengurus inti akan dimuat di sini -->
                            </div>
                        </div>

                        <!-- Koordinator & Staf -->
                        <div>
                            <h3 class="text-2xl font-semibold text-center mb-8 text-blue-600">Koordinator & Staf</h3>
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="koordinatorDivisi">
                                <!-- Data koordinator akan dimuat di sini -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kontak Section -->
        <section id="kontak" class="section-content hidden">
            <div class="py-16 bg-gray-50">
                <div class="container mx-auto px-4">
                    <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">Hubungi Kami</h2>
                    <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-12">
                        <div>
                            <h3 class="text-2xl font-semibold mb-6 text-blue-600">Informasi Kontak</h3>
                            <div class="space-y-4">
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-map-marker-alt text-blue-600"></i>
                                    <span>UPBJJ-UT Bogor, Jl. Pajajaran Sukabumi</span>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-phone text-blue-600"></i>
                                    <span>+62 266 123456</span>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-envelope text-blue-600"></i>
                                    <span>salut.ipm.sukabumi@ut.ac.id</span>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-globe text-blue-600"></i>
                                    <span>www.ut.ac.id</span>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <i class="fas fa-clock text-blue-600"></i>
                                    <span>Senin - Jumat: 08:00 - 16:00 WIB</span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-2xl font-semibold mb-6 text-blue-600">Kirim Pesan</h3>
                            <form class="space-y-4" onsubmit="submitKontak(event)">
                                <input type="text" placeholder="Nama Lengkap" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                <input type="email" placeholder="Email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                <input type="text" placeholder="Subjek" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                <textarea placeholder="Pesan Anda" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required></textarea>
                                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors">
                                    <i class="fas fa-paper-plane mr-2"></i>Kirim Pesan
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="modal">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold mb-6 text-center text-gray-800">Login Admin</h3>
            <form onsubmit="adminLogin(event)">
                <div class="space-y-4">
                    <input type="text" id="adminUsername" placeholder="Username" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    <input type="password" id="adminPassword" placeholder="Password" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fas fa-sign-in-alt mr-2"></i>Login
                    </button>
                </div>
            </form>
            <button onclick="closeModal('adminLoginModal')" class="mt-4 w-full text-gray-500 hover:text-gray-700">Batal</button>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="fixed inset-0 bg-gray-100 z-50 hidden overflow-hidden">
        <!-- Admin Sidebar -->
        <div id="adminSidebar" class="fixed left-0 top-0 h-full w-64 bg-blue-800 text-white sidebar-transition">
            <div class="p-6">
                <h2 class="text-xl font-bold mb-8">Panel Admin</h2>
                <nav class="space-y-2">
                    <a href="#" onclick="showAdminSection('dashboard')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item active">
                        <i class="fas fa-tachometer-alt mr-3"></i>Dashboard
                    </a>
                    <a href="#" onclick="showAdminSection('mahasiswa-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-users mr-3"></i>Data Mahasiswa
                    </a>
                    <a href="#" onclick="showAdminSection('program-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-book mr-3"></i>Program Studi
                    </a>
                    <a href="#" onclick="showAdminSection('informasi-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-newspaper mr-3"></i>Kelola Informasi
                    </a>
                    <a href="#" onclick="showAdminSection('spreadsheet-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-table mr-3"></i>Export Spreadsheet
                    </a>
                    <a href="#" onclick="showAdminSection('upload-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-upload mr-3"></i>Upload File
                    </a>
                    <a href="#" onclick="showAdminSection('logo-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-image mr-3"></i>Kelola Logo & Media
                    </a>
                    <a href="#" onclick="showAdminSection('pengurus-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-users-cog mr-3"></i>Susunan Pengurus
                    </a>
                    <a href="#" onclick="showAdminSection('header-footer-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-edit mr-3"></i>Edit Header & Footer
                    </a>
                    <a href="#" onclick="showAdminSection('staff-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-chalkboard-teacher mr-3"></i>Staff & Dosen
                    </a>
                    <a href="#" onclick="showAdminSection('kontak-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-address-book mr-3"></i>Kelola Kontak
                    </a>
                    <a href="#" onclick="showAdminSection('chat-admin')" class="block p-3 rounded hover:bg-blue-700 transition-colors admin-nav-item">
                        <i class="fas fa-comments mr-3"></i>Live Chat
                    </a>
                </nav>
                <button onclick="logoutAdmin()" class="mt-8 w-full bg-red-600 text-white py-2 rounded hover:bg-red-700 transition-colors">
                    <i class="fas fa-sign-out-alt mr-2"></i>Logout
                </button>
            </div>
        </div>

        <!-- Admin Content -->
        <div class="ml-64 p-6 overflow-y-auto h-screen">
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold text-gray-800" id="adminTitle">Dashboard</h1>
                <button onclick="toggleAdminSidebar()" class="lg:hidden bg-blue-600 text-white p-2 rounded">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <!-- Dashboard -->
            <div id="dashboard" class="admin-section">
                <div class="grid md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="bg-blue-100 p-3 rounded-full">
                                <i class="fas fa-users text-blue-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-gray-500">Total Mahasiswa</p>
                                <p class="text-2xl font-bold" id="dashTotalMahasiswa">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="bg-green-100 p-3 rounded-full">
                                <i class="fas fa-user-plus text-green-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-gray-500">Pendaftar Baru</p>
                                <p class="text-2xl font-bold" id="dashPendaftarBaru">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="bg-purple-100 p-3 rounded-full">
                                <i class="fas fa-book text-purple-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-gray-500">Program Studi</p>
                                <p class="text-2xl font-bold" id="dashProgramStudi">8</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center">
                            <div class="bg-orange-100 p-3 rounded-full">
                                <i class="fas fa-newspaper text-orange-600 text-xl"></i>
                            </div>
                            <div class="ml-4">
                                <p class="text-gray-500">Total Informasi</p>
                                <p class="text-2xl font-bold" id="dashTotalInformasi">0</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4">Aktivitas Terbaru</h3>
                    <div class="space-y-3" id="recentActivity">
                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded">
                            <i class="fas fa-info-circle text-blue-500"></i>
                            <span>Sistem SALUT IPM UT Sukabumi telah aktif</span>
                            <span class="text-sm text-gray-500 ml-auto">Hari ini</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Mahasiswa -->
            <div id="mahasiswa-admin" class="admin-section hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Data Mahasiswa Terdaftar</h3>
                        <div class="flex space-x-2">
                            <button onclick="exportToSpreadsheet()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-download mr-2"></i>Export Excel
                            </button>
                            <button onclick="refreshMahasiswaData()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-sync mr-2"></i>Refresh
                            </button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <input type="text" id="searchMahasiswa" placeholder="Cari mahasiswa..." class="w-full p-3 border rounded-lg" onkeyup="searchMahasiswa()">
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="p-3 text-left">No</th>
                                    <th class="p-3 text-left">Nama</th>
                                    <th class="p-3 text-left">Email</th>
                                    <th class="p-3 text-left">Program Studi</th>
                                    <th class="p-3 text-left">Tanggal Daftar</th>
                                    <th class="p-3 text-left">Status</th>
                                    <th class="p-3 text-left">Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="mahasiswaTable">
                                <!-- Data mahasiswa akan dimuat di sini -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Program Studi Admin -->
            <div id="program-admin" class="admin-section hidden">
                <div class="bg-white p-6 rounded-lg shadow mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Tambah Program Studi</h3>
                        <button onclick="toggleForm('programForm')" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                            <i class="fas fa-plus mr-2"></i>Tambah Program
                        </button>
                    </div>
                    <form id="programForm" class="hidden space-y-4" onsubmit="addProgram(event)">
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" id="programNama" placeholder="Nama Program Studi" class="w-full p-3 border rounded-lg" required>
                            <select id="programJenjang" class="w-full p-3 border rounded-lg" required>
                                <option value="">Pilih Jenjang</option>
                                <option value="D3">Diploma 3</option>
                                <option value="S1">Sarjana (S1)</option>
                                <option value="S2">Magister (S2)</option>
                            </select>
                        </div>
                        <textarea id="programDeskripsi" placeholder="Deskripsi Program" rows="3" class="w-full p-3 border rounded-lg" required></textarea>
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="number" id="programSks" placeholder="Total SKS" class="w-full p-3 border rounded-lg" required>
                            <input type="text" id="programAkreditasi" placeholder="Akreditasi" class="w-full p-3 border rounded-lg">
                        </div>
                        <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                            <i class="fas fa-save mr-2"></i>Simpan
                        </button>
                    </form>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4">Daftar Program Studi</h3>
                    <div class="grid md:grid-cols-2 gap-6" id="programAdminList">
                        <!-- Data program akan dimuat di sini -->
                    </div>
                </div>
            </div>

            <!-- Informasi Admin -->
            <div id="informasi-admin" class="admin-section hidden">
                <div class="bg-white p-6 rounded-lg shadow mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Tambah Informasi Baru</h3>
                        <button onclick="toggleForm('informasiForm')" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                            <i class="fas fa-plus mr-2"></i>Tambah Informasi
                        </button>
                    </div>
                    <form id="informasiForm" class="hidden space-y-4" onsubmit="addInformasi(event)">
                        <input type="text" id="informasiJudul" placeholder="Judul Informasi" class="w-full p-3 border rounded-lg" required>
                        <textarea id="informasiKonten" placeholder="Konten Informasi" rows="5" class="w-full p-3 border rounded-lg" required></textarea>
                        <div class="grid md:grid-cols-2 gap-4">
                            <select id="informasiKategori" class="w-full p-3 border rounded-lg" required>
                                <option value="">Pilih Kategori</option>
                                <option value="Akademik">Akademik</option>
                                <option value="Pendaftaran">Pendaftaran</option>
                                <option value="Pengumuman">Pengumuman</option>
                                <option value="Beasiswa">Beasiswa</option>
                            </select>
                            <select id="informasiPrioritas" class="w-full p-3 border rounded-lg" required>
                                <option value="">Pilih Prioritas</option>
                                <option value="Tinggi">Tinggi</option>
                                <option value="Sedang">Sedang</option>
                                <option value="Rendah">Rendah</option>
                            </select>
                        </div>
                        <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                            <i class="fas fa-save mr-2"></i>Simpan
                        </button>
                    </form>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4">Daftar Informasi</h3>
                    <div class="space-y-4" id="informasiAdminList">
                        <!-- Data informasi akan dimuat di sini -->
                    </div>
                </div>
            </div>

            <!-- Spreadsheet Export -->
            <div id="spreadsheet-admin" class="admin-section hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4">Export Data ke Spreadsheet</h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="border rounded-lg p-6">
                            <h4 class="font-semibold mb-4">Data Mahasiswa</h4>
                            <p class="text-gray-600 mb-4">Export semua data mahasiswa yang telah mendaftar</p>
                            <button onclick="exportMahasiswaSpreadsheet()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-download mr-2"></i>Download Excel
                            </button>
                        </div>
                        <div class="border rounded-lg p-6">
                            <h4 class="font-semibold mb-4">Data Program Studi</h4>
                            <p class="text-gray-600 mb-4">Export daftar program studi yang tersedia</p>
                            <button onclick="exportProgramSpreadsheet()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-download mr-2"></i>Download Excel
                            </button>
                        </div>
                    </div>
                    <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                        <h4 class="font-semibold text-blue-800 mb-2">Catatan:</h4>
                        <ul class="text-blue-700 text-sm space-y-1">
                            <li>• File akan didownload dalam format Excel (.xlsx)</li>
                            <li>• Data yang diexport adalah data real-time</li>
                            <li>• File dapat dibuka dengan Microsoft Excel atau Google Sheets</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Upload File -->
            <div id="upload-admin" class="admin-section hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-4">Upload File</h3>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center">
                        <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600 mb-4">Drag & drop file di sini atau klik untuk memilih</p>
                        <input type="file" id="fileUpload" class="hidden" multiple onchange="handleFileUpload(event)">
                        <button onclick="document.getElementById('fileUpload').click()" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                            <i class="fas fa-folder-open mr-2"></i>Pilih File
                        </button>
                    </div>
                    <div id="uploadedFiles" class="mt-6 space-y-2">
                        <!-- File yang diupload akan ditampilkan di sini -->
                    </div>
                </div>
            </div>

            <!-- Logo & Media Management -->
            <div id="logo-admin" class="admin-section hidden">
                <div class="space-y-6">
                    <!-- Logo Management -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Kelola Logo</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-medium mb-3">Logo Saat Ini</h4>
                                <div class="border rounded-lg p-4 text-center bg-gray-50">
                                    <div id="currentLogo" class="bg-blue-600 text-white p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-2">
                                        <i class="fas fa-graduation-cap text-2xl"></i>
                                    </div>
                                    <p class="text-sm text-gray-600">Logo Default</p>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-medium mb-3">Upload Logo Baru</h4>
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center">
                                    <input type="file" id="logoUpload" class="hidden" accept="image/*" onchange="handleLogoUpload(event)">
                                    <i class="fas fa-image text-2xl text-gray-400 mb-2"></i>
                                    <p class="text-sm text-gray-600 mb-2">Format: PNG, JPG, SVG</p>
                                    <button onclick="document.getElementById('logoUpload').click()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                        <i class="fas fa-upload mr-2"></i>Upload Logo
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Image Gallery -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold">Galeri Gambar</h3>
                            <button onclick="document.getElementById('imageUpload').click()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-plus mr-2"></i>Tambah Gambar
                            </button>
                        </div>
                        <input type="file" id="imageUpload" class="hidden" accept="image/*" multiple onchange="handleImageUpload(event)">
                        <div class="grid md:grid-cols-4 gap-4" id="imageGallery">
                            <!-- Gambar akan ditampilkan di sini -->
                        </div>
                    </div>

                    <!-- Video Management -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold">Kelola Video</h3>
                            <button onclick="toggleForm('videoForm')" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">
                                <i class="fas fa-plus mr-2"></i>Tambah Video
                            </button>
                        </div>
                        
                        <!-- Video Upload Form -->
                        <form id="videoForm" class="hidden mb-6 p-4 border rounded-lg bg-gray-50" onsubmit="addVideo(event)">
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <input type="text" id="videoTitle" placeholder="Judul Video" class="w-full p-3 border rounded-lg" required>
                                <input type="url" id="videoUrl" placeholder="URL Video (YouTube/Vimeo)" class="w-full p-3 border rounded-lg" required>
                            </div>
                            <textarea id="videoDescription" placeholder="Deskripsi Video" rows="3" class="w-full p-3 border rounded-lg mb-4"></textarea>
                            <div class="flex space-x-2">
                                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                    <i class="fas fa-save mr-2"></i>Simpan
                                </button>
                                <button type="button" onclick="toggleForm('videoForm')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                                    Batal
                                </button>
                            </div>
                        </form>

                        <!-- Video List -->
                        <div class="space-y-4" id="videoList">
                            <!-- Video akan ditampilkan di sini -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Management -->
            <div id="kontak-admin" class="admin-section hidden">
                <div class="space-y-6">
                    <!-- Contact Information Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Informasi Kontak</h3>
                        <form onsubmit="updateKontak(event)" class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap</label>
                                    <textarea id="kontakAlamat" rows="3" class="w-full p-3 border rounded-lg" required>UPBJJ-UT Bogor, Jl. Pajajaran Sukabumi</textarea>
                                </div>
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Nomor Telepon</label>
                                        <input type="tel" id="kontakTelepon" value="+62 266 123456" class="w-full p-3 border rounded-lg" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Email Resmi</label>
                                        <input type="email" id="kontakEmail" value="salut.ipm.sukabumi@ut.ac.id" class="w-full p-3 border rounded-lg" required>
                                    </div>
                                </div>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Website</label>
                                    <input type="url" id="kontakWebsite" value="www.ut.ac.id" class="w-full p-3 border rounded-lg" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Jam Operasional</label>
                                    <input type="text" id="kontakJamOperasional" value="Senin - Jumat: 08:00 - 16:00 WIB" class="w-full p-3 border rounded-lg" required>
                                </div>
                            </div>
                            <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-save mr-2"></i>Update Kontak
                            </button>
                        </form>
                    </div>

                    <!-- Additional Contact Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Kontak Tambahan</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center mb-4">
                                <h4 class="font-medium">Daftar Kontak Tambahan</h4>
                                <button onclick="toggleForm('tambahKontakForm')" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                    <i class="fas fa-plus mr-2"></i>Tambah Kontak
                                </button>
                            </div>
                            
                            <!-- Add Contact Form -->
                            <form id="tambahKontakForm" class="hidden p-4 border rounded-lg bg-gray-50" onsubmit="addKontakTambahan(event)">
                                <div class="grid md:grid-cols-3 gap-4 mb-4">
                                    <input type="text" id="kontakTambahanNama" placeholder="Nama/Jabatan" class="w-full p-3 border rounded-lg" required>
                                    <input type="tel" id="kontakTambahanTelepon" placeholder="Nomor Telepon" class="w-full p-3 border rounded-lg" required>
                                    <input type="email" id="kontakTambahanEmail" placeholder="Email" class="w-full p-3 border rounded-lg">
                                </div>
                                <div class="flex space-x-2">
                                    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                        <i class="fas fa-save mr-2"></i>Simpan
                                    </button>
                                    <button type="button" onclick="toggleForm('tambahKontakForm')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                                        Batal
                                    </button>
                                </div>
                            </form>

                            <!-- Contact List -->
                            <div class="space-y-3" id="kontakTambahanList">
                                <!-- Additional contacts will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- WhatsApp Integration -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Integrasi WhatsApp</h3>
                        <form onsubmit="updateWhatsApp(event)" class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Nomor WhatsApp</label>
                                    <input type="tel" id="whatsappNumber" placeholder="628123456789" class="w-full p-3 border rounded-lg">
                                    <p class="text-xs text-gray-500 mt-1">Format: 628123456789 (tanpa tanda +)</p>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Pesan Default</label>
                                    <input type="text" id="whatsappMessage" placeholder="Halo, saya ingin bertanya tentang..." class="w-full p-3 border rounded-lg">
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <input type="checkbox" id="whatsappEnabled" class="rounded">
                                <label for="whatsappEnabled" class="text-sm text-gray-700">Aktifkan tombol WhatsApp di halaman kontak</label>
                            </div>
                            <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-save mr-2"></i>Update WhatsApp
                            </button>
                        </form>
                    </div>

                    <!-- Contact Form Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Pengaturan Form Kontak</h3>
                        <form onsubmit="updateFormKontak(event)" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email Penerima</label>
                                <input type="email" id="formKontakEmail" value="salut.ipm.sukabumi@ut.ac.id" class="w-full p-3 border rounded-lg" required>
                                <p class="text-xs text-gray-500 mt-1">Email yang akan menerima pesan dari form kontak</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Pesan Otomatis Balasan</label>
                                <textarea id="formKontakAutoReply" rows="3" class="w-full p-3 border rounded-lg" placeholder="Terima kasih telah menghubungi kami. Pesan Anda akan segera kami balas."></textarea>
                            </div>
                            <div class="flex items-center space-x-3">
                                <input type="checkbox" id="formKontakEnabled" class="rounded" checked>
                                <label for="formKontakEnabled" class="text-sm text-gray-700">Aktifkan form kontak</label>
                            </div>
                            <button type="submit" class="bg-purple-600 text-white px-6 py-2 rounded hover:bg-purple-700">
                                <i class="fas fa-save mr-2"></i>Update Form Kontak
                            </button>
                        </form>
                    </div>

                    <!-- Preview Section -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Preview Halaman Kontak</h3>
                        <div class="space-y-4">
                            <button onclick="previewKontak()" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700">
                                <i class="fas fa-eye mr-2"></i>Preview Kontak
                            </button>
                            <button onclick="resetKontakToDefault()" class="bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-undo mr-2"></i>Reset ke Default
                            </button>
                        </div>
                        <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-semibold text-blue-800 mb-2">Catatan:</h4>
                            <ul class="text-blue-700 text-sm space-y-1">
                                <li>• Perubahan akan langsung terlihat di halaman kontak</li>
                                <li>• WhatsApp akan muncul sebagai tombol floating jika diaktifkan</li>
                                <li>• Form kontak akan mengirim email ke alamat yang ditentukan</li>
                                <li>• Kontak tambahan akan ditampilkan di bagian informasi kontak</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Header & Footer Management -->
            <div id="header-footer-admin" class="admin-section hidden">
                <div class="space-y-6 pb-20">
                    <!-- Header Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Pengaturan Header</h3>
                        <form onsubmit="updateHeader(event)" class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Nama Institusi</label>
                                    <input type="text" id="headerNamaInstitusi" value="SALUT IPM KOTA SUKABUMI" class="w-full p-3 border rounded-lg" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Subtitle</label>
                                    <input type="text" id="headerSubtitle" value="Universitas Terbuka" class="w-full p-3 border rounded-lg" required>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Warna Header (Gradient)</label>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Warna Awal</label>
                                        <input type="color" id="headerColorStart" value="#1e40af" class="w-full h-10 border rounded">
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-500 mb-1">Warna Akhir</label>
                                        <input type="color" id="headerColorEnd" value="#7c3aed" class="w-full h-10 border rounded">
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Menu Navigasi (pisahkan dengan koma)</label>
                                <input type="text" id="headerMenus" value="Beranda,Tentang,Program Studi,Pendaftaran,Informasi,Pengurus,Kontak" class="w-full p-3 border rounded-lg" required>
                            </div>
                            <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-save mr-2"></i>Update Header
                            </button>
                        </form>
                    </div>

                    <!-- Hero Section Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Pengaturan Hero Section</h3>
                        <form onsubmit="updateHero(event)" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Judul Utama</label>
                                <input type="text" id="heroTitle" value="Selamat Datang di SALUT IPM" class="w-full p-3 border rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Deskripsi</label>
                                <input type="text" id="heroDescription" value="Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah" class="w-full p-3 border rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Sub Deskripsi</label>
                                <input type="text" id="heroSubDescription" value="Universitas Terbuka Kota Sukabumi" class="w-full p-3 border rounded-lg" required>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Teks Tombol 1</label>
                                    <input type="text" id="heroButton1" value="Daftar Sekarang" class="w-full p-3 border rounded-lg" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Teks Tombol 2</label>
                                    <input type="text" id="heroButton2" value="Lihat Program" class="w-full p-3 border rounded-lg" required>
                                </div>
                            </div>
                            <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-save mr-2"></i>Update Hero Section
                            </button>
                        </form>
                    </div>

                    <!-- Footer Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Pengaturan Footer</h3>
                        <form onsubmit="updateFooter(event)" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Deskripsi Institusi</label>
                                <textarea id="footerDescription" rows="3" class="w-full p-3 border rounded-lg" required>Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah Universitas Terbuka Kota Sukabumi</textarea>
                            </div>
                            <div class="grid md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Telepon</label>
                                    <input type="text" id="footerPhone" value="+62 266 123456" class="w-full p-3 border rounded-lg" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                    <input type="email" id="footerEmail" value="salut.ipm.sukabumi@ut.ac.id" class="w-full p-3 border rounded-lg" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Alamat</label>
                                    <input type="text" id="footerAddress" value="Sukabumi, Jawa Barat" class="w-full p-3 border rounded-lg" required>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Program Unggulan (pisahkan dengan koma)</label>
                                <input type="text" id="footerPrograms" value="Manajemen,Akuntansi,Ilmu Komunikasi,Pendidikan Guru SD" class="w-full p-3 border rounded-lg" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Copyright Text</label>
                                <input type="text" id="footerCopyright" value="© 2024 SALUT IPM KOTA SUKABUMI - Universitas Terbuka. All rights reserved." class="w-full p-3 border rounded-lg" required>
                            </div>
                            <button type="submit" class="bg-purple-600 text-white px-6 py-2 rounded hover:bg-purple-700">
                                <i class="fas fa-save mr-2"></i>Update Footer
                            </button>
                        </form>
                    </div>

                    <!-- Social Media Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Media Sosial</h3>
                        <form onsubmit="updateSocialMedia(event)" class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Facebook URL</label>
                                    <input type="url" id="socialFacebook" placeholder="https://facebook.com/salut.ipm.sukabumi" class="w-full p-3 border rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Instagram URL</label>
                                    <input type="url" id="socialInstagram" placeholder="https://instagram.com/salut.ipm.sukabumi" class="w-full p-3 border rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Twitter URL</label>
                                    <input type="url" id="socialTwitter" placeholder="https://twitter.com/salut_ipm_skb" class="w-full p-3 border rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">YouTube URL</label>
                                    <input type="url" id="socialYoutube" placeholder="https://youtube.com/c/salutipmskb" class="w-full p-3 border rounded-lg">
                                </div>
                            </div>
                            <button type="submit" class="bg-red-600 text-white px-6 py-2 rounded hover:bg-red-700">
                                <i class="fas fa-save mr-2"></i>Update Media Sosial
                            </button>
                        </form>
                    </div>

                    <!-- Preview Section -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Preview Perubahan</h3>
                        <div class="space-y-4">
                            <button onclick="previewChanges()" class="bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700">
                                <i class="fas fa-eye mr-2"></i>Preview Header & Footer
                            </button>
                            <button onclick="resetToDefault()" class="bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700">
                                <i class="fas fa-undo mr-2"></i>Reset ke Default
                            </button>
                        </div>
                        <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-semibold text-blue-800 mb-2">Catatan:</h4>
                            <ul class="text-blue-700 text-sm space-y-1">
                                <li>• Perubahan akan langsung terlihat setelah disimpan</li>
                                <li>• Gunakan preview untuk melihat hasil sebelum menyimpan</li>
                                <li>• Warna gradient akan diterapkan pada header dan hero section</li>
                                <li>• Media sosial akan ditampilkan di footer jika diisi</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pengurus Management -->
            <div id="pengurus-admin" class="admin-section hidden">
                <div class="space-y-6">
                    <!-- Add Pengurus Form -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold">Tambah Pengurus</h3>
                            <button onclick="toggleForm('pengurusForm')" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-plus mr-2"></i>Tambah Pengurus
                            </button>
                        </div>
                        
                        <form id="pengurusForm" class="hidden space-y-4" onsubmit="addPengurus(event)">
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="pengurusNama" placeholder="Nama Lengkap" class="w-full p-3 border rounded-lg" required>
                                <select id="pengurusJabatan" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Pilih Jabatan</option>
                                    <option value="Ketua SALUT IPM">Ketua SALUT IPM</option>
                                    <option value="Wakil Ketua SALUT IPM">Wakil Ketua SALUT IPM</option>
                                    <option value="Sekretaris SALUT IPM">Sekretaris SALUT IPM</option>
                                    <option value="Bendahara SALUT IPM">Bendahara SALUT IPM</option>
                                    <option value="Koordinator Pendaftaran">Koordinator Pendaftaran</option>
                                    <option value="Koordinator Akademik">Koordinator Akademik</option>
                                    <option value="Koordinator Kemahasiswaan">Koordinator Kemahasiswaan</option>
                                    <option value="Koordinator Humas & Publikasi">Koordinator Humas & Publikasi</option>
                                    <option value="Koordinator IT & Sistem">Koordinator IT & Sistem</option>
                                    <option value="Koordinator Keuangan">Koordinator Keuangan</option>
                                    <option value="Staf Administrasi">Staf Administrasi</option>
                                    <option value="Staf Tutorial">Staf Tutorial</option>
                                </select>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="pengurusNip" placeholder="NIP/ID Pegawai" class="w-full p-3 border rounded-lg">
                                <select id="pengurusUnit" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Pilih Unit Kerja</option>
                                    <option value="SALUT IPM Sukabumi">SALUT IPM Sukabumi</option>
                                    <option value="UPBJJ-UT Bogor">UPBJJ-UT Bogor</option>
                                    <option value="Pokjar Sukabumi">Pokjar Sukabumi</option>
                                    <option value="Administrasi Akademik">Administrasi Akademik</option>
                                    <option value="Layanan Mahasiswa">Layanan Mahasiswa</option>
                                </select>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <select id="pengurusPendidikan" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Pendidikan Terakhir</option>
                                    <option value="SMA/SMK">SMA/SMK</option>
                                    <option value="D3">Diploma 3</option>
                                    <option value="S1">Sarjana (S1)</option>
                                    <option value="S2">Magister (S2)</option>
                                    <option value="S3">Doktor (S3)</option>
                                </select>
                                <input type="text" id="pengurusBidangKeahlian" placeholder="Bidang Keahlian/Jurusan" class="w-full p-3 border rounded-lg">
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="email" id="pengurusEmail" placeholder="Email Resmi" class="w-full p-3 border rounded-lg" required>
                                <input type="tel" id="pengurusTelepon" placeholder="No. Telepon/HP" class="w-full p-3 border rounded-lg" required>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="number" id="pengurusPengalaman" placeholder="Pengalaman Kerja (Tahun)" min="0" class="w-full p-3 border rounded-lg">
                                <select id="pengurusStatus" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Status Kepegawaian</option>
                                    <option value="PNS">PNS</option>
                                    <option value="Kontrak">Kontrak</option>
                                    <option value="Honorer">Honorer</option>
                                    <option value="Volunteer">Volunteer</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Foto Profil</label>
                                <input type="file" id="pengurusFoto" accept="image/*" class="w-full p-3 border rounded-lg">
                            </div>
                            <textarea id="pengurusBio" placeholder="Profil Singkat & Pengalaman Kerja" rows="3" class="w-full p-3 border rounded-lg"></textarea>
                            <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-save mr-2"></i>Simpan
                            </button>
                        </form>
                    </div>

                    <!-- Pengurus List -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Daftar Pengurus</h3>
                        <div class="space-y-4" id="pengurusAdminList">
                            <!-- Data pengurus akan dimuat di sini -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Live Chat Widget -->
    <div id="chatWidget" class="fixed bottom-6 left-6 z-50">
        <!-- Chat Toggle Button -->
        <button id="chatToggle" onclick="toggleChat()" class="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 relative">
            <i class="fas fa-comments text-xl"></i>
            <span id="chatNotification" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center hidden">0</span>
        </button>

        <!-- Chat Window -->
        <div id="chatWindow" class="hidden absolute bottom-16 left-0 w-80 h-96 bg-white rounded-lg shadow-2xl border overflow-hidden">
            <!-- Chat Header -->
            <div class="bg-blue-600 text-white p-4 flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                        <i class="fas fa-headset text-sm"></i>
                    </div>
                    <div>
                        <h4 class="font-semibold text-sm">Live Chat Support</h4>
                        <p class="text-xs text-blue-200" id="chatStatus">Online - Siap membantu</p>
                    </div>
                </div>
                <button onclick="toggleChat()" class="text-white hover:text-blue-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Chat Messages -->
            <div id="chatMessages" class="flex-1 p-4 h-64 overflow-y-auto bg-gray-50 space-y-3">
                <!-- Welcome message -->
                <div class="flex items-start space-x-2">
                    <div class="w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-white text-xs"></i>
                    </div>
                    <div class="bg-white p-3 rounded-lg shadow-sm max-w-xs">
                        <p class="text-sm text-gray-800">Selamat datang di SALUT IPM UT Sukabumi! 👋</p>
                        <p class="text-sm text-gray-800 mt-1">Ada yang bisa kami bantu?</p>
                        <span class="text-xs text-gray-500">Baru saja</span>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div id="quickActions" class="p-3 bg-white border-t">
                <div class="flex flex-wrap gap-2 mb-3">
                    <button onclick="sendQuickMessage('Informasi pendaftaran')" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs hover:bg-blue-200">
                        📝 Pendaftaran
                    </button>
                    <button onclick="sendQuickMessage('Program studi tersedia')" class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs hover:bg-green-200">
                        📚 Program Studi
                    </button>
                    <button onclick="sendQuickMessage('Biaya kuliah')" class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs hover:bg-purple-200">
                        💰 Biaya
                    </button>
                    <button onclick="sendQuickMessage('Jadwal tutorial')" class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs hover:bg-orange-200">
                        ⏰ Tutorial
                    </button>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="p-3 bg-white border-t">
                <div class="flex space-x-2">
                    <input type="text" id="chatInput" placeholder="Ketik pesan Anda..." class="flex-1 p-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" onkeypress="handleChatKeyPress(event)">
                    <button onclick="sendMessage()" class="bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fas fa-paper-plane text-sm"></i>
                    </button>
                </div>
                <div class="flex items-center justify-between mt-2">
                    <div class="flex items-center space-x-2">
                        <button onclick="attachFile()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-paperclip text-sm"></i>
                        </button>
                        <button onclick="toggleEmoji()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-smile text-sm"></i>
                        </button>
                    </div>
                    <div class="flex items-center space-x-1">
                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                        <span class="text-xs text-gray-500" id="typingIndicator">Admin online</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Emoji Picker -->
        <div id="emojiPicker" class="hidden absolute bottom-20 left-0 bg-white rounded-lg shadow-lg border p-3 w-64">
            <div class="grid grid-cols-8 gap-2">
                <button onclick="insertEmoji('😊')" class="hover:bg-gray-100 p-1 rounded">😊</button>
                <button onclick="insertEmoji('👍')" class="hover:bg-gray-100 p-1 rounded">👍</button>
                <button onclick="insertEmoji('❤️')" class="hover:bg-gray-100 p-1 rounded">❤️</button>
                <button onclick="insertEmoji('😂')" class="hover:bg-gray-100 p-1 rounded">😂</button>
                <button onclick="insertEmoji('🙏')" class="hover:bg-gray-100 p-1 rounded">🙏</button>
                <button onclick="insertEmoji('👏')" class="hover:bg-gray-100 p-1 rounded">👏</button>
                <button onclick="insertEmoji('🔥')" class="hover:bg-gray-100 p-1 rounded">🔥</button>
                <button onclick="insertEmoji('💯')" class="hover:bg-gray-100 p-1 rounded">💯</button>
                <button onclick="insertEmoji('🎉')" class="hover:bg-gray-100 p-1 rounded">🎉</button>
                <button onclick="insertEmoji('📚')" class="hover:bg-gray-100 p-1 rounded">📚</button>
                <button onclick="insertEmoji('✅')" class="hover:bg-gray-100 p-1 rounded">✅</button>
                <button onclick="insertEmoji('❓')" class="hover:bg-gray-100 p-1 rounded">❓</button>
                <button onclick="insertEmoji('💡')" class="hover:bg-gray-100 p-1 rounded">💡</button>
                <button onclick="insertEmoji('⭐')" class="hover:bg-gray-100 p-1 rounded">⭐</button>
                <button onclick="insertEmoji('🎓')" class="hover:bg-gray-100 p-1 rounded">🎓</button>
                <button onclick="insertEmoji('📝')" class="hover:bg-gray-100 p-1 rounded">📝</button>
            </div>
        </div>
    </div>

    <!-- Chat Admin Panel (for admin) -->
    <div id="chatAdminPanel" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
        <div class="absolute right-0 top-0 h-full w-96 bg-white shadow-xl">
            <div class="p-4 bg-blue-600 text-white">
                <div class="flex justify-between items-center">
                    <h3 class="font-semibold">Chat Admin Panel</h3>
                    <button onclick="closeChatAdmin()" class="text-white hover:text-blue-200">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <div class="p-4">
                <div class="mb-4">
                    <h4 class="font-semibold mb-2">Active Chats</h4>
                    <div id="activeChatsList" class="space-y-2">
                        <!-- Active chats will be listed here -->
                    </div>
                </div>
                
                <div class="mb-4">
                    <h4 class="font-semibold mb-2">Quick Responses</h4>
                    <div class="space-y-2">
                        <button onclick="sendAdminResponse('Terima kasih telah menghubungi SALUT IPM. Bagaimana kami bisa membantu Anda?')" class="w-full text-left p-2 bg-gray-100 rounded hover:bg-gray-200 text-sm">
                            Greeting Standard
                        </button>
                        <button onclick="sendAdminResponse('Untuk informasi pendaftaran, silakan kunjungi menu Pendaftaran atau hubungi kami di +62 266 123456')" class="w-full text-left p-2 bg-gray-100 rounded hover:bg-gray-200 text-sm">
                            Info Pendaftaran
                        </button>
                        <button onclick="sendAdminResponse('Kami memiliki berbagai program studi S1 seperti Manajemen, Akuntansi, Ilmu Komunikasi, dan Pendidikan Guru SD')" class="w-full text-left p-2 bg-gray-100 rounded hover:bg-gray-200 text-sm">
                            Program Studi
                        </button>
                        <button onclick="sendAdminResponse('Mohon tunggu sebentar, saya akan mencarikan informasi yang Anda butuhkan')" class="w-full text-left p-2 bg-gray-100 rounded hover:bg-gray-200 text-sm">
                            Please Wait
                        </button>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-2">Chat Statistics</h4>
                    <div class="bg-gray-50 p-3 rounded">
                        <div class="flex justify-between text-sm">
                            <span>Total Chats Today:</span>
                            <span id="totalChatsToday">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Active Now:</span>
                            <span id="activeChatsNow">0</span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span>Response Time:</span>
                            <span id="avgResponseTime">< 1 min</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Staff & Dosen Admin -->
            <div id="staff-admin" class="admin-section hidden">
                <div class="space-y-6">
                    <!-- Add Staff Form -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold">Tambah Staff/Dosen</h3>
                            <button onclick="toggleForm('staffForm')" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-plus mr-2"></i>Tambah Staff
                            </button>
                        </div>
                        
                        <form id="staffForm" class="hidden space-y-4" onsubmit="addStaff(event)">
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="staffNama" placeholder="Nama Lengkap" class="w-full p-3 border rounded-lg" required>
                                <select id="staffKategori" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Pilih Kategori</option>
                                    <option value="dosen">Dosen</option>
                                    <option value="tutor">Tutor</option>
                                    <option value="pengajar">Pengajar</option>
                                    <option value="admin">Admin Akademik</option>
                                </select>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="staffNidn" placeholder="NIDN/NIP" class="w-full p-3 border rounded-lg">
                                <select id="staffPendidikan" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Pendidikan Terakhir</option>
                                    <option value="S1">Sarjana (S1)</option>
                                    <option value="S2">Magister (S2)</option>
                                    <option value="S3">Doktor (S3)</option>
                                    <option value="Profesor">Profesor</option>
                                </select>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" id="staffBidang" placeholder="Bidang Keahlian" class="w-full p-3 border rounded-lg" required>
                                <input type="text" id="staffProdi" placeholder="Program Studi" class="w-full p-3 border rounded-lg">
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="email" id="staffEmail" placeholder="Email" class="w-full p-3 border rounded-lg" required>
                                <input type="tel" id="staffTelepon" placeholder="No. Telepon" class="w-full p-3 border rounded-lg">
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="number" id="staffPengalaman" placeholder="Pengalaman Mengajar (Tahun)" min="0" class="w-full p-3 border rounded-lg">
                                <select id="staffStatus" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Status Kepegawaian</option>
                                    <option value="PNS">PNS</option>
                                    <option value="Kontrak">Kontrak</option>
                                    <option value="Honorer">Honorer</option>
                                    <option value="Dosen Luar Biasa">Dosen Luar Biasa</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Foto Profil</label>
                                <input type="file" id="staffFoto" accept="image/*" class="w-full p-3 border rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mata Kuliah yang Diampu (pisahkan dengan koma)</label>
                                <input type="text" id="staffMataKuliah" placeholder="Manajemen Strategis, Pemasaran, dll" class="w-full p-3 border rounded-lg">
                            </div>
                            <textarea id="staffBio" placeholder="Profil Singkat & Riwayat Pendidikan" rows="3" class="w-full p-3 border rounded-lg"></textarea>
                            <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-save mr-2"></i>Simpan
                            </button>
                        </form>
                    </div>

                    <!-- Staff List -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold">Daftar Staff & Dosen</h3>
                            <div class="flex space-x-2">
                                <select id="staffFilterAdmin" onchange="filterStaffAdmin()" class="p-2 border rounded">
                                    <option value="all">Semua Kategori</option>
                                    <option value="dosen">Dosen</option>
                                    <option value="tutor">Tutor</option>
                                    <option value="pengajar">Pengajar</option>
                                    <option value="admin">Admin</option>
                                </select>
                                <button onclick="exportStaffData()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                    <i class="fas fa-download mr-2"></i>Export
                                </button>
                            </div>
                        </div>
                        <div class="space-y-4" id="staffAdminList">
                            <!-- Staff data will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Chat Admin -->
            <div id="chat-admin" class="admin-section hidden">
                <div class="space-y-6">
                    <!-- Chat Settings -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Pengaturan Live Chat</h3>
                        <form onsubmit="updateChatSettings(event)" class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Status Chat</label>
                                    <select id="chatStatusSetting" class="w-full p-3 border rounded-lg">
                                        <option value="online">Online - Siap membantu</option>
                                        <option value="busy">Sibuk - Respon lambat</option>
                                        <option value="offline">Offline - Di luar jam kerja</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Auto Response</label>
                                    <select id="autoResponseEnabled" class="w-full p-3 border rounded-lg">
                                        <option value="true">Aktif</option>
                                        <option value="false">Nonaktif</option>
                                    </select>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Pesan Selamat Datang</label>
                                <textarea id="welcomeMessage" rows="3" class="w-full p-3 border rounded-lg">Selamat datang di SALUT IPM UT Sukabumi! 👋
Ada yang bisa kami bantu?</textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Pesan Auto Response</label>
                                <textarea id="autoResponseMessage" rows="2" class="w-full p-3 border rounded-lg">Terima kasih atas pesan Anda. Admin kami akan segera merespon.</textarea>
                            </div>
                            <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-save mr-2"></i>Simpan Pengaturan
                            </button>
                        </form>
                    </div>

                    <!-- Active Chats Management -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold">Chat Aktif</h3>
                            <div class="flex space-x-2">
                                <button onclick="openChatAdminPanel()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                    <i class="fas fa-comments mr-2"></i>Buka Chat Panel
                                </button>
                                <button onclick="refreshActiveChats()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                    <i class="fas fa-sync mr-2"></i>Refresh
                                </button>
                            </div>
                        </div>
                        <div id="activeChatsList" class="space-y-3">
                            <!-- Active chats will be loaded here -->
                        </div>
                    </div>

                    <!-- Chat History -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Riwayat Chat</h3>
                        <div class="mb-4 flex space-x-4">
                            <input type="date" id="chatHistoryDate" class="p-2 border rounded">
                            <button onclick="loadChatHistory()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-search mr-2"></i>Cari
                            </button>
                            <button onclick="exportChatHistory()" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                <i class="fas fa-download mr-2"></i>Export
                            </button>
                        </div>
                        <div id="chatHistoryList" class="space-y-3 max-h-96 overflow-y-auto">
                            <!-- Chat history will be loaded here -->
                        </div>
                    </div>

                    <!-- Quick Responses Management -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold">Kelola Quick Response</h3>
                            <button onclick="toggleForm('quickResponseForm')" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
                                <i class="fas fa-plus mr-2"></i>Tambah Response
                            </button>
                        </div>
                        
                        <form id="quickResponseForm" class="hidden mb-6 p-4 border rounded-lg bg-gray-50" onsubmit="addQuickResponse(event)">
                            <div class="grid md:grid-cols-2 gap-4 mb-4">
                                <input type="text" id="quickResponseTitle" placeholder="Judul Response" class="w-full p-3 border rounded-lg" required>
                                <select id="quickResponseCategory" class="w-full p-3 border rounded-lg" required>
                                    <option value="">Pilih Kategori</option>
                                    <option value="greeting">Greeting</option>
                                    <option value="info">Informasi</option>
                                    <option value="pendaftaran">Pendaftaran</option>
                                    <option value="akademik">Akademik</option>
                                    <option value="closing">Closing</option>
                                </select>
                            </div>
                            <textarea id="quickResponseText" placeholder="Teks Response" rows="3" class="w-full p-3 border rounded-lg mb-4" required></textarea>
                            <div class="flex space-x-2">
                                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                                    <i class="fas fa-save mr-2"></i>Simpan
                                </button>
                                <button type="button" onclick="toggleForm('quickResponseForm')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                                    Batal
                                </button>
                            </div>
                        </form>

                        <div id="quickResponsesList" class="space-y-3">
                            <!-- Quick responses will be loaded here -->
                        </div>
                    </div>

                    <!-- Chat Statistics -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Statistik Chat</h3>
                        <div class="grid md:grid-cols-4 gap-6">
                            <div class="text-center p-4 bg-blue-50 rounded-lg">
                                <div class="text-2xl font-bold text-blue-600" id="totalChatsToday">0</div>
                                <p class="text-sm text-gray-600">Chat Hari Ini</p>
                            </div>
                            <div class="text-center p-4 bg-green-50 rounded-lg">
                                <div class="text-2xl font-bold text-green-600" id="activeChatsCount">0</div>
                                <p class="text-sm text-gray-600">Chat Aktif</p>
                            </div>
                            <div class="text-center p-4 bg-purple-50 rounded-lg">
                                <div class="text-2xl font-bold text-purple-600" id="avgResponseTime">< 1m</div>
                                <p class="text-sm text-gray-600">Rata-rata Respon</p>
                            </div>
                            <div class="text-center p-4 bg-orange-50 rounded-lg">
                                <div class="text-2xl font-bold text-orange-600" id="satisfactionRate">98%</div>
                                <p class="text-sm text-gray-600">Tingkat Kepuasan</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="gradient-bg text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">SALUT IPM</h3>
                    <p class="text-blue-200">Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah Universitas Terbuka Kota Sukabumi</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Menu</h4>
                    <ul class="space-y-2 text-blue-200">
                        <li><a href="#" onclick="showSection('beranda')" class="hover:text-white">Beranda</a></li>
                        <li><a href="#" onclick="showSection('program')" class="hover:text-white">Program Studi</a></li>
                        <li><a href="#" onclick="showSection('pendaftaran')" class="hover:text-white">Pendaftaran</a></li>
                        <li><a href="#" onclick="showSection('informasi')" class="hover:text-white">Informasi</a></li>
                        <li><a href="#" onclick="showSection('pengurus')" class="hover:text-white">Pengurus</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Program Unggulan</h4>
                    <ul class="space-y-2 text-blue-200">
                        <li>Manajemen</li>
                        <li>Akuntansi</li>
                        <li>Ilmu Komunikasi</li>
                        <li>Pendidikan Guru SD</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Kontak</h4>
                    <div class="space-y-2 text-blue-200">
                        <p><i class="fas fa-phone mr-2"></i>+62 266 123456</p>
                        <p><i class="fas fa-envelope mr-2"></i>salut.ipm.sukabumi@ut.ac.id</p>
                        <p><i class="fas fa-map-marker-alt mr-2"></i>Sukabumi, Jawa Barat</p>
                    </div>
                </div>
            </div>
            <div class="border-t border-blue-400 mt-8 pt-8 text-center text-blue-200">
                <p>&copy; 2024 SALUT IPM KOTA SUKABUMI - Universitas Terbuka. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data Storage
        let mahasiswa = [];
        let programStudi = [
            {
                id: 1,
                nama: "Manajemen",
                jenjang: "S1",
                deskripsi: "Program studi yang mempelajari tentang pengelolaan organisasi dan bisnis",
                sks: 144,
                akreditasi: "A"
            },
            {
                id: 2,
                nama: "Akuntansi",
                jenjang: "S1",
                deskripsi: "Program studi yang fokus pada pencatatan dan pelaporan keuangan",
                sks: 144,
                akreditasi: "A"
            },
            {
                id: 3,
                nama: "Ilmu Komunikasi",
                jenjang: "S1",
                deskripsi: "Program studi yang mempelajari teori dan praktik komunikasi",
                sks: 144,
                akreditasi: "B"
            },
            {
                id: 4,
                nama: "Pendidikan Guru SD",
                jenjang: "S1",
                deskripsi: "Program studi untuk menjadi guru sekolah dasar yang profesional",
                sks: 144,
                akreditasi: "A"
            }
        ];

        let informasi = [
            {
                id: 1,
                judul: "Pembukaan Pendaftaran Mahasiswa Baru 2024",
                konten: "Universitas Terbuka membuka pendaftaran mahasiswa baru untuk periode 2024. Pendaftaran dapat dilakukan secara online melalui website resmi.",
                kategori: "Pendaftaran",
                prioritas: "Tinggi",
                tanggal: "2024-01-15"
            },
            {
                id: 2,
                judul: "Jadwal Tutorial Online Semester Genap",
                konten: "Tutorial online untuk semester genap akan dimulai pada tanggal 20 Februari 2024. Mahasiswa dapat mengakses melalui platform e-learning UT.",
                kategori: "Akademik",
                prioritas: "Sedang",
                tanggal: "2024-01-10"
            }
        ];

        let pengurus = [
            {
                id: 1,
                nama: "Dr. Ahmad Fauzi Rahman, M.Pd",
                jabatan: "Ketua SALUT IPM",
                nip: "196801051995031001",
                unit: "SALUT IPM Sukabumi",
                pendidikan: "S2",
                bidangKeahlian: "Manajemen Pendidikan",
                email: "ahmad.fauzi@ut.ac.id",
                telepon: "081234567890",
                pengalaman: 15,
                status: "PNS",
                foto: null,
                bio: "Berpengalaman 15 tahun dalam pengelolaan pendidikan tinggi dan pengembangan sistem pembelajaran jarak jauh"
            },
            {
                id: 2,
                nama: "Siti Nurhaliza, S.Pd, M.M",
                jabatan: "Sekretaris SALUT IPM",
                nip: "197205101998032002",
                unit: "SALUT IPM Sukabumi",
                pendidikan: "S2",
                bidangKeahlian: "Administrasi Pendidikan",
                email: "siti.nurhaliza@ut.ac.id",
                telepon: "081234567891",
                pengalaman: 12,
                status: "PNS",
                foto: null,
                bio: "Ahli dalam administrasi akademik dan dokumentasi dengan pengalaman 12 tahun di bidang pendidikan tinggi"
            },
            {
                id: 3,
                nama: "Muhammad Rizki, S.E, M.Ak",
                jabatan: "Bendahara SALUT IPM",
                nip: "198003151999031003",
                unit: "SALUT IPM Sukabumi",
                pendidikan: "S2",
                bidangKeahlian: "Akuntansi Keuangan",
                email: "muhammad.rizki@ut.ac.id",
                telepon: "081234567892",
                pengalaman: 10,
                status: "PNS",
                foto: null,
                bio: "Spesialis pengelolaan keuangan institusi pendidikan dengan sertifikasi akuntansi profesional"
            },
            {
                id: 4,
                nama: "Dra. Fatimah Zahra, M.Si",
                jabatan: "Koordinator Akademik",
                nip: "196512201990032001",
                unit: "UPBJJ-UT Bogor",
                pendidikan: "S2",
                bidangKeahlian: "Teknologi Pendidikan",
                email: "fatimah.zahra@ut.ac.id",
                telepon: "081234567893",
                pengalaman: 18,
                status: "PNS",
                foto: null,
                bio: "Koordinator akademik berpengalaman dalam pengembangan kurikulum dan sistem tutorial online"
            },
            {
                id: 5,
                nama: "Budi Santoso, S.Kom, M.T",
                jabatan: "Koordinator IT & Sistem",
                nip: "198506102010031004",
                unit: "SALUT IPM Sukabumi",
                pendidikan: "S2",
                bidangKeahlian: "Sistem Informasi",
                email: "budi.santoso@ut.ac.id",
                telepon: "081234567894",
                pengalaman: 8,
                status: "Kontrak",
                foto: null,
                bio: "Ahli pengembangan sistem informasi akademik dan platform e-learning untuk pendidikan jarak jauh"
            }
        ];

        let videos = [];
        let images = [];
        let currentLogo = null;
        let kontakTambahan = [];
        let kontakSettings = {
            alamat: "UPBJJ-UT Bogor, Jl. Pajajaran Sukabumi",
            telepon: "+62 266 123456",
            email: "salut.ipm.sukabumi@ut.ac.id",
            website: "www.ut.ac.id",
            jamOperasional: "Senin - Jumat: 08:00 - 16:00 WIB",
            whatsapp: {
                enabled: false,
                number: "",
                message: "Halo, saya ingin bertanya tentang SALUT IPM UT Sukabumi"
            },
            formKontak: {
                enabled: true,
                emailPenerima: "salut.ipm.sukabumi@ut.ac.id",
                autoReply: "Terima kasih telah menghubungi kami. Pesan Anda akan segera kami balas."
            }
        };

        let isAdminLoggedIn = false;
        let currentStep = 1;
        let staff = [
            {
                id: 1,
                nama: "Prof. Dr. Ir. Bambang Sutrisno, M.T.",
                kategori: "dosen",
                nidn: "0012345678",
                pendidikan: "Profesor",
                bidang: "Manajemen Strategis",
                prodi: "Manajemen",
                email: "bambang.sutrisno@ut.ac.id",
                telepon: "081234567890",
                pengalaman: 25,
                status: "PNS",
                foto: null,
                mataKuliah: ["Manajemen Strategis", "Kepemimpinan", "Manajemen Perubahan"],
                bio: "Profesor dengan pengalaman 25 tahun dalam bidang manajemen strategis dan kepemimpinan organisasi. Lulusan S3 Manajemen dari Universitas Indonesia."
            },
            {
                id: 2,
                nama: "Dr. Siti Rahayu, S.E., M.M.",
                kategori: "dosen",
                nidn: "0023456789",
                pendidikan: "S3",
                bidang: "Akuntansi Keuangan",
                prodi: "Akuntansi",
                email: "siti.rahayu@ut.ac.id",
                telepon: "081234567891",
                pengalaman: 18,
                status: "PNS",
                foto: null,
                mataKuliah: ["Akuntansi Keuangan", "Analisis Laporan Keuangan", "Akuntansi Manajemen"],
                bio: "Doktor Akuntansi dengan spesialisasi akuntansi keuangan dan analisis laporan keuangan. Aktif dalam penelitian dan publikasi ilmiah."
            },
            {
                id: 3,
                nama: "Drs. Ahmad Fauzi, M.Pd.",
                kategori: "tutor",
                nidn: "0034567890",
                pendidikan: "S2",
                bidang: "Pendidikan Guru SD",
                prodi: "Pendidikan Guru SD",
                email: "ahmad.fauzi@ut.ac.id",
                telepon: "081234567892",
                pengalaman: 15,
                status: "Kontrak",
                foto: null,
                mataKuliah: ["Pembelajaran Terpadu", "Evaluasi Pembelajaran", "Psikologi Pendidikan"],
                bio: "Tutor berpengalaman dalam pendidikan guru sekolah dasar dengan fokus pada pembelajaran terpadu dan evaluasi pembelajaran."
            },
            {
                id: 4,
                nama: "Rina Kartika, S.Kom., M.T.",
                kategori: "pengajar",
                nidn: "0045678901",
                pendidikan: "S2",
                bidang: "Sistem Informasi",
                prodi: "Sistem Informasi",
                email: "rina.kartika@ut.ac.id",
                telepon: "081234567893",
                pengalaman: 12,
                status: "Kontrak",
                foto: null,
                mataKuliah: ["Basis Data", "Pemrograman Web", "Sistem Informasi Manajemen"],
                bio: "Pengajar sistem informasi dengan keahlian dalam pengembangan aplikasi web dan manajemen basis data."
            },
            {
                id: 5,
                nama: "Dra. Fatimah Zahra, M.Si.",
                kategori: "tutor",
                nidn: "0056789012",
                pendidikan: "S2",
                bidang: "Ilmu Komunikasi",
                prodi: "Ilmu Komunikasi",
                email: "fatimah.zahra@ut.ac.id",
                telepon: "081234567894",
                pengalaman: 14,
                status: "PNS",
                foto: null,
                mataKuliah: ["Komunikasi Massa", "Jurnalistik", "Public Relations"],
                bio: "Tutor ilmu komunikasi dengan pengalaman dalam bidang jurnalistik dan public relations. Aktif sebagai konsultan komunikasi."
            },
            {
                id: 6,
                nama: "Budi Santoso, S.Pd., M.Pd.",
                kategori: "admin",
                nidn: "0067890123",
                pendidikan: "S2",
                bidang: "Administrasi Pendidikan",
                prodi: "Administrasi Akademik",
                email: "budi.santoso@ut.ac.id",
                telepon: "081234567895",
                pengalaman: 10,
                status: "PNS",
                foto: null,
                mataKuliah: [],
                bio: "Admin akademik yang menangani administrasi mahasiswa dan koordinasi kegiatan akademik di SALUT IPM UT Sukabumi."
            }
        ];

        let nextId = { mahasiswa: 1, program: 5, informasi: 3, pengurus: 4, staff: 7, video: 1, image: 1, chat: 1, quickResponse: 1 };

        // Live Chat System
        let chatMessages = [];
        let activeChats = [];
        let quickResponses = [
            {
                id: 1,
                title: "Greeting Standard",
                category: "greeting",
                text: "Terima kasih telah menghubungi SALUT IPM. Bagaimana kami bisa membantu Anda?"
            },
            {
                id: 2,
                title: "Info Pendaftaran",
                category: "pendaftaran",
                text: "Untuk informasi pendaftaran, silakan kunjungi menu Pendaftaran atau hubungi kami di +62 266 123456"
            },
            {
                id: 3,
                title: "Program Studi",
                category: "akademik",
                text: "Kami memiliki berbagai program studi S1 seperti Manajemen, Akuntansi, Ilmu Komunikasi, dan Pendidikan Guru SD"
            },
            {
                id: 4,
                title: "Please Wait",
                category: "info",
                text: "Mohon tunggu sebentar, saya akan mencarikan informasi yang Anda butuhkan"
            }
        ];
        let chatSettings = {
            status: "online",
            autoResponse: true,
            welcomeMessage: "Selamat datang di SALUT IPM UT Sukabumi! 👋\nAda yang bisa kami bantu?",
            autoResponseMessage: "Terima kasih atas pesan Anda. Admin kami akan segera merespon."
        };
        let currentChatSession = null;
        let chatHistory = [];
        let isTyping = false;

        // Navigation Functions
        function showSection(sectionName) {
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionName).classList.remove('hidden');
            
            if (sectionName === 'program') {
                loadProgram();
            } else if (sectionName === 'informasi') {
                loadInformasi();
            } else if (sectionName === 'staff') {
                loadStaff();
            } else if (sectionName === 'pengurus') {
                loadPengurus();
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            menu.classList.toggle('translate-x-full');
        }

        // Modal Functions
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('show');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // Multi-step Form Functions
        function changeStep(direction) {
            const steps = document.querySelectorAll('.form-step');
            const totalSteps = steps.length;
            
            // Validate current step before proceeding
            if (direction === 1 && !validateCurrentStep()) {
                return;
            }
            
            steps[currentStep - 1].classList.remove('active');
            currentStep += direction;
            
            if (currentStep < 1) currentStep = 1;
            if (currentStep > totalSteps) currentStep = totalSteps;
            
            steps[currentStep - 1].classList.add('active');
            updateProgressBar();
            updateNavigationButtons();
        }

        function validateCurrentStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            
            for (let field of requiredFields) {
                if (!field.value.trim()) {
                    field.focus();
                    showNotification('Mohon lengkapi semua field yang wajib diisi', 'error');
                    return false;
                }
            }
            return true;
        }

        function updateProgressBar() {
            const progress = (currentStep / 4) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentStep').textContent = currentStep;
            document.getElementById('progressPercent').textContent = Math.round(progress);
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.style.display = currentStep === 1 ? 'none' : 'block';
            nextBtn.style.display = currentStep === 4 ? 'none' : 'block';
            submitBtn.style.display = currentStep === 4 ? 'block' : 'none';
        }

        // Registration Functions
        function submitRegistration(event) {
            event.preventDefault();
            
            if (!validateCurrentStep()) {
                return;
            }
            
            const formData = {
                id: nextId.mahasiswa++,
                namaLengkap: document.getElementById('namaLengkap').value,
                nik: document.getElementById('nik').value,
                tempatLahir: document.getElementById('tempatLahir').value,
                tanggalLahir: document.getElementById('tanggalLahir').value,
                jenisKelamin: document.getElementById('jenisKelamin').value,
                agama: document.getElementById('agama').value,
                email: document.getElementById('email').value,
                telepon: document.getElementById('telepon').value,
                alamat: document.getElementById('alamat').value,
                provinsi: document.getElementById('provinsi').value,
                kota: document.getElementById('kota').value,
                kodePos: document.getElementById('kodePos').value,
                asalSekolah: document.getElementById('asalSekolah').value,
                jurusan: document.getElementById('jurusan').value,
                tahunLulus: document.getElementById('tahunLulus').value,
                nilaiRata: document.getElementById('nilaiRata').value,
                prodi1: document.getElementById('prodi1').value,
                prodi2: document.getElementById('prodi2').value,
                motivasi: document.getElementById('motivasi').value,
                tanggalDaftar: new Date().toISOString().split('T')[0],
                status: 'Menunggu Verifikasi'
            };
            
            mahasiswa.push(formData);
            
            // Simulate saving to spreadsheet
            saveToSpreadsheet(formData);
            
            showNotification('Pendaftaran berhasil dikirim! Kami akan menghubungi Anda segera.', 'success');
            
            // Reset form
            document.getElementById('registrationForm').reset();
            currentStep = 1;
            document.querySelectorAll('.form-step').forEach((step, index) => {
                step.classList.toggle('active', index === 0);
            });
            updateProgressBar();
            updateNavigationButtons();
            
            // Update statistics
            updateStatistics();
        }

        function saveToSpreadsheet(data) {
            // Simulate spreadsheet integration
            console.log('Data saved to spreadsheet:', data);
            
            // In a real implementation, this would connect to Google Sheets API
            // or another spreadsheet service
            const spreadsheetData = {
                timestamp: new Date().toISOString(),
                data: data
            };
            
            // Store in localStorage as demo
            let spreadsheetRecords = JSON.parse(localStorage.getItem('spreadsheetRecords') || '[]');
            spreadsheetRecords.push(spreadsheetData);
            localStorage.setItem('spreadsheetRecords', JSON.stringify(spreadsheetRecords));
        }

        // Admin Functions
        function adminLogin(event) {
            event.preventDefault();
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            // Demo login (username: admin, password: admin123)
            if (username === 'admin' && password === 'admin123') {
                isAdminLoggedIn = true;
                closeModal('adminLoginModal');
                document.getElementById('adminPanel').classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                loadAdminData();
                showNotification('Login berhasil!', 'success');
            } else {
                showNotification('Username atau password salah!', 'error');
            }
        }

        function logoutAdmin() {
            isAdminLoggedIn = false;
            document.getElementById('adminPanel').classList.add('hidden');
            document.body.style.overflow = 'auto';
            document.getElementById('adminUsername').value = '';
            document.getElementById('adminPassword').value = '';
            showNotification('Logout berhasil!', 'success');
        }

        function showAdminSection(sectionName) {
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionName).classList.remove('hidden');
            
            document.querySelectorAll('.admin-nav-item').forEach(item => {
                item.classList.remove('active', 'bg-blue-700');
            });
            event.target.classList.add('active', 'bg-blue-700');
            
            const titles = {
                'dashboard': 'Dashboard',
                'mahasiswa-admin': 'Data Mahasiswa',
                'program-admin': 'Program Studi',
                'informasi-admin': 'Kelola Informasi',
                'spreadsheet-admin': 'Export Spreadsheet',
                'upload-admin': 'Upload File',
                'logo-admin': 'Kelola Logo & Media',
                'pengurus-admin': 'Susunan Pengurus',
                'staff-admin': 'Staff & Dosen',
                'header-footer-admin': 'Edit Header & Footer',
                'kontak-admin': 'Kelola Kontak'
            };
            document.getElementById('adminTitle').textContent = titles[sectionName];
            
            if (sectionName === 'mahasiswa-admin') {
                loadMahasiswaAdmin();
            } else if (sectionName === 'program-admin') {
                loadProgramAdmin();
            } else if (sectionName === 'informasi-admin') {
                loadInformasiAdmin();
            } else if (sectionName === 'logo-admin') {
                loadLogoAdmin();
            } else if (sectionName === 'pengurus-admin') {
                loadPengurusAdmin();
            } else if (sectionName === 'staff-admin') {
                loadStaffAdmin();
            } else if (sectionName === 'kontak-admin') {
                loadKontakAdmin();
            } else if (sectionName === 'chat-admin') {
                loadChatAdmin();
            }
        }

        function toggleAdminSidebar() {
            const sidebar = document.getElementById('adminSidebar');
            sidebar.classList.toggle('sidebar-hidden');
        }

        function toggleForm(formId) {
            const form = document.getElementById(formId);
            form.classList.toggle('hidden');
        }

        // Data Loading Functions
        function loadProgram() {
            const container = document.getElementById('programContainer');
            container.innerHTML = '';
            
            programStudi.forEach(item => {
                const programCard = `
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden card-hover">
                        <div class="p-6">
                            <div class="flex justify-between items-start mb-3">
                                <h3 class="text-xl font-semibold text-gray-800">${item.nama}</h3>
                                <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">${item.jenjang}</span>
                            </div>
                            <p class="text-gray-600 mb-4">${item.deskripsi}</p>
                            <div class="space-y-2 text-sm text-gray-500">
                                <div class="flex items-center">
                                    <i class="fas fa-book mr-2"></i>
                                    <span>${item.sks} SKS</span>
                                </div>
                                <div class="flex items-center">
                                    <i class="fas fa-certificate mr-2"></i>
                                    <span>Akreditasi ${item.akreditasi}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += programCard;
            });
        }

        function loadInformasi() {
            const container = document.getElementById('informasiContainer');
            container.innerHTML = '';
            
            informasi.forEach(item => {
                const priorityColor = {
                    'Tinggi': 'bg-red-100 text-red-800',
                    'Sedang': 'bg-yellow-100 text-yellow-800',
                    'Rendah': 'bg-green-100 text-green-800'
                };
                
                const informasiCard = `
                    <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
                        <div class="flex justify-between items-start mb-3">
                            <h3 class="text-xl font-semibold text-gray-800">${item.judul}</h3>
                            <div class="flex space-x-2">
                                <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">${item.kategori}</span>
                                <span class="${priorityColor[item.prioritas]} px-2 py-1 rounded text-sm">${item.prioritas}</span>
                            </div>
                        </div>
                        <p class="text-gray-600 mb-4">${item.konten}</p>
                        <div class="text-sm text-gray-500">
                            <i class="fas fa-calendar mr-2"></i>
                            ${new Date(item.tanggal).toLocaleDateString('id-ID')}
                        </div>
                    </div>
                `;
                container.innerHTML += informasiCard;
            });
        }

        function loadAdminData() {
            // Update dashboard statistics
            document.getElementById('dashTotalMahasiswa').textContent = mahasiswa.length;
            document.getElementById('dashPendaftarBaru').textContent = mahasiswa.filter(m => m.status === 'Menunggu Verifikasi').length;
            document.getElementById('dashProgramStudi').textContent = programStudi.length;
            document.getElementById('dashTotalInformasi').textContent = informasi.length;
            
            // Update public statistics
            updateStatistics();
        }

        function updateStatistics() {
            document.getElementById('totalMahasiswa').textContent = mahasiswa.length + 1250;
        }

        function loadMahasiswaAdmin() {
            const table = document.getElementById('mahasiswaTable');
            table.innerHTML = '';
            
            mahasiswa.forEach((item, index) => {
                const statusColor = {
                    'Menunggu Verifikasi': 'bg-yellow-100 text-yellow-800',
                    'Terverifikasi': 'bg-green-100 text-green-800',
                    'Ditolak': 'bg-red-100 text-red-800'
                };
                
                const row = `
                    <tr class="border-b">
                        <td class="p-3">${index + 1}</td>
                        <td class="p-3">${item.namaLengkap}</td>
                        <td class="p-3">${item.email}</td>
                        <td class="p-3">${item.prodi1}</td>
                        <td class="p-3">${new Date(item.tanggalDaftar).toLocaleDateString('id-ID')}</td>
                        <td class="p-3">
                            <span class="${statusColor[item.status]} px-2 py-1 rounded text-sm">${item.status}</span>
                        </td>
                        <td class="p-3">
                            <button onclick="viewMahasiswa(${item.id})" class="text-blue-600 hover:text-blue-800 mr-2">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button onclick="editMahasiswa(${item.id})" class="text-green-600 hover:text-green-800 mr-2">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteMahasiswa(${item.id})" class="text-red-600 hover:text-red-800">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                `;
                table.innerHTML += row;
            });
        }

        function loadProgramAdmin() {
            const container = document.getElementById('programAdminList');
            container.innerHTML = '';
            
            programStudi.forEach(item => {
                const programItem = `
                    <div class="border rounded-lg p-4">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-semibold text-gray-800">${item.nama}</h4>
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">${item.jenjang}</span>
                        </div>
                        <p class="text-gray-600 text-sm mb-2">${item.deskripsi}</p>
                        <div class="flex justify-between items-center">
                            <div class="text-sm text-gray-500">
                                <span>${item.sks} SKS | Akreditasi ${item.akreditasi}</span>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="editProgram(${item.id})" class="text-blue-600 hover:text-blue-800">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="deleteProgram(${item.id})" class="text-red-600 hover:text-red-800">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += programItem;
            });
        }

        function loadInformasiAdmin() {
            const container = document.getElementById('informasiAdminList');
            container.innerHTML = '';
            
            informasi.forEach(item => {
                const priorityColor = {
                    'Tinggi': 'bg-red-100 text-red-800',
                    'Sedang': 'bg-yellow-100 text-yellow-800',
                    'Rendah': 'bg-green-100 text-green-800'
                };
                
                const informasiItem = `
                    <div class="border rounded-lg p-4">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-2">
                                    <h4 class="font-semibold text-gray-800">${item.judul}</h4>
                                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">${item.kategori}</span>
                                    <span class="${priorityColor[item.prioritas]} px-2 py-1 rounded text-xs">${item.prioritas}</span>
                                </div>
                                <p class="text-gray-600 text-sm mb-2">${item.konten.substring(0, 100)}...</p>
                                <p class="text-gray-500 text-xs">${new Date(item.tanggal).toLocaleDateString('id-ID')}</p>
                            </div>
                            <div class="flex space-x-2 ml-4">
                                <button onclick="editInformasi(${item.id})" class="text-blue-600 hover:text-blue-800">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="deleteInformasi(${item.id})" class="text-red-600 hover:text-red-800">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += informasiItem;
            });
        }

        // CRUD Functions
        function addProgram(event) {
            event.preventDefault();
            const newProgram = {
                id: nextId.program++,
                nama: document.getElementById('programNama').value,
                jenjang: document.getElementById('programJenjang').value,
                deskripsi: document.getElementById('programDeskripsi').value,
                sks: parseInt(document.getElementById('programSks').value),
                akreditasi: document.getElementById('programAkreditasi').value
            };
            
            programStudi.push(newProgram);
            document.getElementById('programForm').reset();
            document.getElementById('programForm').classList.add('hidden');
            loadProgramAdmin();
            loadAdminData();
            showNotification('Program studi berhasil ditambahkan!', 'success');
        }

        function addInformasi(event) {
            event.preventDefault();
            const newInformasi = {
                id: nextId.informasi++,
                judul: document.getElementById('informasiJudul').value,
                konten: document.getElementById('informasiKonten').value,
                kategori: document.getElementById('informasiKategori').value,
                prioritas: document.getElementById('informasiPrioritas').value,
                tanggal: new Date().toISOString().split('T')[0]
            };
            
            informasi.push(newInformasi);
            document.getElementById('informasiForm').reset();
            document.getElementById('informasiForm').classList.add('hidden');
            loadInformasiAdmin();
            loadAdminData();
            showNotification('Informasi berhasil ditambahkan!', 'success');
        }

        // Export Functions
        function exportToSpreadsheet() {
            exportMahasiswaSpreadsheet();
        }

        function exportMahasiswaSpreadsheet() {
            if (mahasiswa.length === 0) {
                showNotification('Tidak ada data mahasiswa untuk diexport', 'error');
                return;
            }
            
            // Create CSV content
            const headers = ['No', 'Nama Lengkap', 'NIK', 'Email', 'Telepon', 'Program Studi 1', 'Program Studi 2', 'Tanggal Daftar', 'Status'];
            const csvContent = [
                headers.join(','),
                ...mahasiswa.map((item, index) => [
                    index + 1,
                    `"${item.namaLengkap}"`,
                    item.nik,
                    item.email,
                    item.telepon,
                    `"${item.prodi1}"`,
                    `"${item.prodi2 || '-'}"`,
                    item.tanggalDaftar,
                    `"${item.status}"`
                ].join(','))
            ].join('\n');
            
            // Download file
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `data_mahasiswa_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Data mahasiswa berhasil diexport!', 'success');
        }

        function exportProgramSpreadsheet() {
            // Create CSV content for program studi
            const headers = ['No', 'Nama Program', 'Jenjang', 'SKS', 'Akreditasi', 'Deskripsi'];
            const csvContent = [
                headers.join(','),
                ...programStudi.map((item, index) => [
                    index + 1,
                    `"${item.nama}"`,
                    item.jenjang,
                    item.sks,
                    item.akreditasi,
                    `"${item.deskripsi}"`
                ].join(','))
            ].join('\n');
            
            // Download file
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `data_program_studi_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Data program studi berhasil diexport!', 'success');
        }

        // Search Functions
        function searchMahasiswa() {
            const searchTerm = document.getElementById('searchMahasiswa').value.toLowerCase();
            const filteredMahasiswa = mahasiswa.filter(item => 
                item.namaLengkap.toLowerCase().includes(searchTerm) ||
                item.email.toLowerCase().includes(searchTerm) ||
                item.prodi1.toLowerCase().includes(searchTerm)
            );
            
            const table = document.getElementById('mahasiswaTable');
            table.innerHTML = '';
            
            filteredMahasiswa.forEach((item, index) => {
                const statusColor = {
                    'Menunggu Verifikasi': 'bg-yellow-100 text-yellow-800',
                    'Terverifikasi': 'bg-green-100 text-green-800',
                    'Ditolak': 'bg-red-100 text-red-800'
                };
                
                const row = `
                    <tr class="border-b">
                        <td class="p-3">${index + 1}</td>
                        <td class="p-3">${item.namaLengkap}</td>
                        <td class="p-3">${item.email}</td>
                        <td class="p-3">${item.prodi1}</td>
                        <td class="p-3">${new Date(item.tanggalDaftar).toLocaleDateString('id-ID')}</td>
                        <td class="p-3">
                            <span class="${statusColor[item.status]} px-2 py-1 rounded text-sm">${item.status}</span>
                        </td>
                        <td class="p-3">
                            <button onclick="viewMahasiswa(${item.id})" class="text-blue-600 hover:text-blue-800 mr-2">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button onclick="editMahasiswa(${item.id})" class="text-green-600 hover:text-green-800 mr-2">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteMahasiswa(${item.id})" class="text-red-600 hover:text-red-800">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                `;
                table.innerHTML += row;
            });
        }

        // Utility Functions
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            
            if (type === 'error') {
                notification.className = 'notification bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg';
            } else {
                notification.className = 'notification bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function refreshMahasiswaData() {
            loadMahasiswaAdmin();
            showNotification('Data mahasiswa berhasil direfresh!', 'success');
        }

        function handleFileUpload(event) {
            const files = event.target.files;
            const container = document.getElementById('uploadedFiles');
            
            Array.from(files).forEach(file => {
                const fileItem = document.createElement('div');
                fileItem.className = 'flex items-center justify-between p-3 bg-gray-50 rounded';
                fileItem.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-file text-blue-600 mr-3"></i>
                        <span>${file.name}</span>
                        <span class="text-sm text-gray-500 ml-2">(${(file.size / 1024).toFixed(1)} KB)</span>
                    </div>
                    <button onclick="this.parentElement.remove()" class="text-red-600 hover:text-red-800">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                container.appendChild(fileItem);
            });
            
            showNotification(`${files.length} file berhasil diupload!`, 'success');
        }

        function submitKontak(event) {
            event.preventDefault();
            showNotification('Pesan Anda telah terkirim! Kami akan segera menghubungi Anda.', 'success');
            event.target.reset();
        }

        // Load Pengurus Functions
        function loadPengurus() {
            const ketuaContainer = document.getElementById('ketuaUmum');
            const intiContainer = document.getElementById('pengurusInti');
            const koordinatorContainer = document.getElementById('koordinatorDivisi');
            
            // Clear containers
            ketuaContainer.innerHTML = '';
            intiContainer.innerHTML = '';
            koordinatorContainer.innerHTML = '';
            
            pengurus.forEach(item => {
                const pengurusCard = `
                    <div class="text-center">
                        <div class="w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            ${item.foto ? `<img src="${item.foto}" alt="${item.nama}" class="w-full h-full rounded-full object-cover">` : `<i class="fas fa-user text-white text-2xl"></i>`}
                        </div>
                        <h4 class="font-semibold text-gray-800 mb-1">${item.nama}</h4>
                        <p class="text-blue-600 font-medium mb-2">${item.jabatan}</p>
                        <p class="text-sm text-gray-600 mb-1">${item.unit}</p>
                        <p class="text-sm text-gray-500">${item.bidangKeahlian}</p>
                        <p class="text-xs text-gray-400 mt-1">${item.pengalaman} tahun pengalaman</p>
                        ${item.bio ? `<p class="text-xs text-gray-500 mt-2">${item.bio}</p>` : ''}
                    </div>
                `;
                
                if (item.jabatan === 'Ketua SALUT IPM') {
                    ketuaContainer.innerHTML = pengurusCard;
                } else if (['Wakil Ketua SALUT IPM', 'Sekretaris SALUT IPM', 'Bendahara SALUT IPM'].includes(item.jabatan)) {
                    intiContainer.innerHTML += `<div class="bg-white rounded-lg shadow-lg p-6 card-hover">${pengurusCard}</div>`;
                } else {
                    koordinatorContainer.innerHTML += `<div class="bg-white rounded-lg shadow-lg p-4 card-hover">${pengurusCard}</div>`;
                }
            });
        }

        // Logo and Media Functions
        function loadLogoAdmin() {
            loadImageGallery();
            loadVideoList();
        }

        function handleLogoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentLogo = e.target.result;
                    const logoContainer = document.getElementById('currentLogo');
                    logoContainer.innerHTML = `<img src="${currentLogo}" alt="Logo" class="w-full h-full object-cover rounded-full">`;
                    
                    // Update logo in navigation
                    const navLogo = document.querySelector('.bg-white.text-blue-600.p-2.rounded-full');
                    navLogo.innerHTML = `<img src="${currentLogo}" alt="Logo" class="w-full h-full object-cover rounded-full">`;
                    
                    showNotification('Logo berhasil diupdate!', 'success');
                };
                reader.readAsDataURL(file);
            }
        }

        function handleImageUpload(event) {
            const files = event.target.files;
            Array.from(files).forEach(file => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const newImage = {
                        id: nextId.image++,
                        url: e.target.result,
                        name: file.name,
                        uploadDate: new Date().toISOString()
                    };
                    images.push(newImage);
                    loadImageGallery();
                };
                reader.readAsDataURL(file);
            });
            showNotification(`${files.length} gambar berhasil diupload!`, 'success');
        }

        function loadImageGallery() {
            const container = document.getElementById('imageGallery');
            container.innerHTML = '';
            
            images.forEach(image => {
                const imageItem = `
                    <div class="relative group">
                        <img src="${image.url}" alt="${image.name}" class="w-full h-32 object-cover rounded-lg">
                        <div class="absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center">
                            <button onclick="deleteImage(${image.id})" class="text-white hover:text-red-300">
                                <i class="fas fa-trash text-xl"></i>
                            </button>
                        </div>
                        <p class="text-xs text-gray-600 mt-1 truncate">${image.name}</p>
                    </div>
                `;
                container.innerHTML += imageItem;
            });
        }

        function addVideo(event) {
            event.preventDefault();
            const newVideo = {
                id: nextId.video++,
                title: document.getElementById('videoTitle').value,
                url: document.getElementById('videoUrl').value,
                description: document.getElementById('videoDescription').value,
                uploadDate: new Date().toISOString()
            };
            
            videos.push(newVideo);
            document.getElementById('videoForm').reset();
            document.getElementById('videoForm').classList.add('hidden');
            loadVideoList();
            showNotification('Video berhasil ditambahkan!', 'success');
        }

        function loadVideoList() {
            const container = document.getElementById('videoList');
            container.innerHTML = '';
            
            videos.forEach(video => {
                const videoItem = `
                    <div class="border rounded-lg p-4">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <h4 class="font-semibold text-gray-800 mb-2">${video.title}</h4>
                                <p class="text-gray-600 text-sm mb-2">${video.description}</p>
                                <a href="${video.url}" target="_blank" class="text-blue-600 hover:underline text-sm">
                                    <i class="fas fa-external-link-alt mr-1"></i>Lihat Video
                                </a>
                                <p class="text-gray-500 text-xs mt-2">${new Date(video.uploadDate).toLocaleDateString('id-ID')}</p>
                            </div>
                            <button onclick="deleteVideo(${video.id})" class="text-red-600 hover:text-red-800 ml-4">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                container.innerHTML += videoItem;
            });
        }

        // Pengurus Admin Functions
        function addPengurus(event) {
            event.preventDefault();
            
            const fotoFile = document.getElementById('pengurusFoto').files[0];
            let fotoUrl = null;
            
            const savePengurus = (foto) => {
                const newPengurus = {
                    id: nextId.pengurus++,
                    nama: document.getElementById('pengurusNama').value,
                    jabatan: document.getElementById('pengurusJabatan').value,
                    nip: document.getElementById('pengurusNip').value,
                    unit: document.getElementById('pengurusUnit').value,
                    pendidikan: document.getElementById('pengurusPendidikan').value,
                    bidangKeahlian: document.getElementById('pengurusBidangKeahlian').value,
                    email: document.getElementById('pengurusEmail').value,
                    telepon: document.getElementById('pengurusTelepon').value,
                    pengalaman: parseInt(document.getElementById('pengurusPengalaman').value) || 0,
                    status: document.getElementById('pengurusStatus').value,
                    foto: foto,
                    bio: document.getElementById('pengurusBio').value
                };
                
                pengurus.push(newPengurus);
                document.getElementById('pengurusForm').reset();
                document.getElementById('pengurusForm').classList.add('hidden');
                loadPengurusAdmin();
                showNotification('Pengurus berhasil ditambahkan!', 'success');
            };
            
            if (fotoFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    savePengurus(e.target.result);
                };
                reader.readAsDataURL(fotoFile);
            } else {
                savePengurus(null);
            }
        }

        function loadPengurusAdmin() {
            const container = document.getElementById('pengurusAdminList');
            container.innerHTML = '';
            
            pengurus.forEach(item => {
                const pengurusItem = `
                    <div class="border rounded-lg p-4">
                        <div class="flex items-start space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
                                ${item.foto ? `<img src="${item.foto}" alt="${item.nama}" class="w-full h-full rounded-full object-cover">` : `<i class="fas fa-user text-white text-xl"></i>`}
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h4 class="font-semibold text-gray-800">${item.nama}</h4>
                                        <p class="text-blue-600 font-medium">${item.jabatan}</p>
                                        <p class="text-sm text-gray-600">${item.unit} - ${item.nip || 'Tanpa NIP'}</p>
                                        <p class="text-sm text-gray-500">${item.bidangKeahlian} (${item.pendidikan})</p>
                                        <p class="text-sm text-gray-500">${item.email} | ${item.telepon}</p>
                                        <p class="text-xs text-gray-400">${item.pengalaman} tahun pengalaman - Status: ${item.status}</p>
                                        ${item.bio ? `<p class="text-xs text-gray-500 mt-1">${item.bio}</p>` : ''}
                                    </div>
                                    <div class="flex space-x-2">
                                        <button onclick="editPengurus(${item.id})" class="text-blue-600 hover:text-blue-800">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button onclick="deletePengurus(${item.id})" class="text-red-600 hover:text-red-800">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += pengurusItem;
            });
        }

        // Delete Functions
        function deleteImage(id) {
            if (confirm('Apakah Anda yakin ingin menghapus gambar ini?')) {
                images = images.filter(item => item.id !== id);
                loadImageGallery();
                showNotification('Gambar berhasil dihapus!', 'success');
            }
        }

        function deleteVideo(id) {
            if (confirm('Apakah Anda yakin ingin menghapus video ini?')) {
                videos = videos.filter(item => item.id !== id);
                loadVideoList();
                showNotification('Video berhasil dihapus!', 'success');
            }
        }

        function deletePengurus(id) {
            if (confirm('Apakah Anda yakin ingin menghapus data pengurus ini?')) {
                pengurus = pengurus.filter(item => item.id !== id);
                loadPengurusAdmin();
                showNotification('Data pengurus berhasil dihapus!', 'success');
            }
        }

        function editPengurus(id) {
            showNotification('Fitur edit pengurus akan segera tersedia!', 'success');
        }

        // Placeholder functions for edit/delete/view
        function viewMahasiswa(id) {
            const mahasiswaData = mahasiswa.find(m => m.id === id);
            if (mahasiswaData) {
                alert(`Detail Mahasiswa:\nNama: ${mahasiswaData.namaLengkap}\nEmail: ${mahasiswaData.email}\nProgram: ${mahasiswaData.prodi1}`);
            }
        }

        function editMahasiswa(id) {
            showNotification('Fitur edit mahasiswa akan segera tersedia!', 'success');
        }

        function deleteMahasiswa(id) {
            if (confirm('Apakah Anda yakin ingin menghapus data mahasiswa ini?')) {
                mahasiswa = mahasiswa.filter(item => item.id !== id);
                loadMahasiswaAdmin();
                loadAdminData();
                showNotification('Data mahasiswa berhasil dihapus!', 'success');
            }
        }

        function editProgram(id) {
            showNotification('Fitur edit program akan segera tersedia!', 'success');
        }

        function deleteProgram(id) {
            if (confirm('Apakah Anda yakin ingin menghapus program studi ini?')) {
                programStudi = programStudi.filter(item => item.id !== id);
                loadProgramAdmin();
                loadAdminData();
                showNotification('Program studi berhasil dihapus!', 'success');
            }
        }

        function editInformasi(id) {
            showNotification('Fitur edit informasi akan segera tersedia!', 'success');
        }

        function deleteInformasi(id) {
            if (confirm('Apakah Anda yakin ingin menghapus informasi ini?')) {
                informasi = informasi.filter(item => item.id !== id);
                loadInformasiAdmin();
                loadAdminData();
                showNotification('Informasi berhasil dihapus!', 'success');
            }
        }

        // Header & Footer Management Functions
        let siteSettings = {
            header: {
                namaInstitusi: "SALUT IPM KOTA SUKABUMI",
                subtitle: "Universitas Terbuka",
                colorStart: "#1e40af",
                colorEnd: "#7c3aed",
                menus: ["Beranda", "Tentang", "Program Studi", "Pendaftaran", "Informasi", "Pengurus", "Kontak"]
            },
            hero: {
                title: "Selamat Datang di SALUT IPM",
                description: "Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah",
                subDescription: "Universitas Terbuka Kota Sukabumi",
                button1: "Daftar Sekarang",
                button2: "Lihat Program"
            },
            footer: {
                description: "Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah Universitas Terbuka Kota Sukabumi",
                phone: "+62 266 123456",
                email: "salut.ipm.sukabumi@ut.ac.id",
                address: "Sukabumi, Jawa Barat",
                programs: ["Manajemen", "Akuntansi", "Ilmu Komunikasi", "Pendidikan Guru SD"],
                copyright: "© 2024 SALUT IPM KOTA SUKABUMI - Universitas Terbuka. All rights reserved."
            },
            social: {
                facebook: "",
                instagram: "",
                twitter: "",
                youtube: ""
            }
        };

        function updateHeader(event) {
            event.preventDefault();
            
            siteSettings.header = {
                namaInstitusi: document.getElementById('headerNamaInstitusi').value,
                subtitle: document.getElementById('headerSubtitle').value,
                colorStart: document.getElementById('headerColorStart').value,
                colorEnd: document.getElementById('headerColorEnd').value,
                menus: document.getElementById('headerMenus').value.split(',').map(m => m.trim())
            };
            
            applyHeaderChanges();
            showNotification('Header berhasil diupdate!', 'success');
        }

        function updateHero(event) {
            event.preventDefault();
            
            siteSettings.hero = {
                title: document.getElementById('heroTitle').value,
                description: document.getElementById('heroDescription').value,
                subDescription: document.getElementById('heroSubDescription').value,
                button1: document.getElementById('heroButton1').value,
                button2: document.getElementById('heroButton2').value
            };
            
            applyHeroChanges();
            showNotification('Hero section berhasil diupdate!', 'success');
        }

        function updateFooter(event) {
            event.preventDefault();
            
            siteSettings.footer = {
                description: document.getElementById('footerDescription').value,
                phone: document.getElementById('footerPhone').value,
                email: document.getElementById('footerEmail').value,
                address: document.getElementById('footerAddress').value,
                programs: document.getElementById('footerPrograms').value.split(',').map(p => p.trim()),
                copyright: document.getElementById('footerCopyright').value
            };
            
            applyFooterChanges();
            showNotification('Footer berhasil diupdate!', 'success');
        }

        function updateSocialMedia(event) {
            event.preventDefault();
            
            siteSettings.social = {
                facebook: document.getElementById('socialFacebook').value,
                instagram: document.getElementById('socialInstagram').value,
                twitter: document.getElementById('socialTwitter').value,
                youtube: document.getElementById('socialYoutube').value
            };
            
            applySocialMediaChanges();
            showNotification('Media sosial berhasil diupdate!', 'success');
        }

        function applyHeaderChanges() {
            // Update navigation title
            const navTitle = document.querySelector('nav h1');
            const navSubtitle = document.querySelector('nav p');
            if (navTitle) navTitle.textContent = siteSettings.header.namaInstitusi;
            if (navSubtitle) navSubtitle.textContent = siteSettings.header.subtitle;
            
            // Update gradient colors
            const gradientElements = document.querySelectorAll('.gradient-bg');
            const newGradient = `linear-gradient(135deg, ${siteSettings.header.colorStart} 0%, ${siteSettings.header.colorEnd} 100%)`;
            gradientElements.forEach(el => {
                el.style.background = newGradient;
            });
            
            // Update CSS gradient class
            const style = document.createElement('style');
            style.textContent = `.gradient-bg { background: ${newGradient} !important; }`;
            document.head.appendChild(style);
        }

        function applyHeroChanges() {
            // Update hero section content
            const heroTitle = document.querySelector('#beranda h2');
            const heroDesc = document.querySelector('#beranda p:first-of-type');
            const heroSubDesc = document.querySelector('#beranda p.text-blue-200');
            const heroBtn1 = document.querySelector('#beranda button:first-of-type');
            const heroBtn2 = document.querySelector('#beranda button:last-of-type');
            
            if (heroTitle) heroTitle.textContent = siteSettings.hero.title;
            if (heroDesc) heroDesc.textContent = siteSettings.hero.description;
            if (heroSubDesc) heroSubDesc.textContent = siteSettings.hero.subDescription;
            if (heroBtn1) {
                const icon = heroBtn1.querySelector('i');
                heroBtn1.innerHTML = `${icon ? icon.outerHTML : '<i class="fas fa-user-plus mr-2"></i>'}${siteSettings.hero.button1}`;
            }
            if (heroBtn2) {
                const icon = heroBtn2.querySelector('i');
                heroBtn2.innerHTML = `${icon ? icon.outerHTML : '<i class="fas fa-book mr-2"></i>'}${siteSettings.hero.button2}`;
            }
        }

        function applyFooterChanges() {
            // Update footer content
            const footerDesc = document.querySelector('footer p');
            const footerPhone = document.querySelector('footer .fa-phone').parentElement;
            const footerEmail = document.querySelector('footer .fa-envelope').parentElement;
            const footerAddress = document.querySelector('footer .fa-map-marker-alt').parentElement;
            const footerPrograms = document.querySelector('footer h4:contains("Program Unggulan")');
            const footerCopyright = document.querySelector('footer .border-t p');
            
            if (footerDesc) footerDesc.textContent = siteSettings.footer.description;
            if (footerPhone) footerPhone.innerHTML = `<i class="fas fa-phone mr-2"></i>${siteSettings.footer.phone}`;
            if (footerEmail) footerEmail.innerHTML = `<i class="fas fa-envelope mr-2"></i>${siteSettings.footer.email}`;
            if (footerAddress) footerAddress.innerHTML = `<i class="fas fa-map-marker-alt mr-2"></i>${siteSettings.footer.address}`;
            if (footerCopyright) footerCopyright.textContent = siteSettings.footer.copyright;
            
            // Update programs list
            const programsList = document.querySelector('footer ul');
            if (programsList) {
                programsList.innerHTML = siteSettings.footer.programs.map(program => `<li>${program}</li>`).join('');
            }
        }

        function applySocialMediaChanges() {
            // Add social media links to footer if they don't exist
            const footerGrid = document.querySelector('footer .grid.md\\:grid-cols-4');
            if (footerGrid && Object.values(siteSettings.social).some(url => url)) {
                // Check if social media section already exists
                let socialSection = document.querySelector('#socialMediaSection');
                if (!socialSection) {
                    socialSection = document.createElement('div');
                    socialSection.id = 'socialMediaSection';
                    footerGrid.appendChild(socialSection);
                }
                
                const socialLinks = [];
                if (siteSettings.social.facebook) socialLinks.push(`<a href="${siteSettings.social.facebook}" target="_blank" class="text-blue-200 hover:text-white"><i class="fab fa-facebook mr-2"></i>Facebook</a>`);
                if (siteSettings.social.instagram) socialLinks.push(`<a href="${siteSettings.social.instagram}" target="_blank" class="text-blue-200 hover:text-white"><i class="fab fa-instagram mr-2"></i>Instagram</a>`);
                if (siteSettings.social.twitter) socialLinks.push(`<a href="${siteSettings.social.twitter}" target="_blank" class="text-blue-200 hover:text-white"><i class="fab fa-twitter mr-2"></i>Twitter</a>`);
                if (siteSettings.social.youtube) socialLinks.push(`<a href="${siteSettings.social.youtube}" target="_blank" class="text-blue-200 hover:text-white"><i class="fab fa-youtube mr-2"></i>YouTube</a>`);
                
                if (socialLinks.length > 0) {
                    socialSection.innerHTML = `
                        <div>
                            <h4 class="font-semibold mb-4">Media Sosial</h4>
                            <div class="space-y-2 text-blue-200">
                                ${socialLinks.join('')}
                            </div>
                        </div>
                    `;
                }
            }
        }

        function previewChanges() {
            // Temporarily apply all changes for preview
            applyHeaderChanges();
            applyHeroChanges();
            applyFooterChanges();
            applySocialMediaChanges();
            
            // Close admin panel temporarily
            document.getElementById('adminPanel').classList.add('hidden');
            document.body.style.overflow = 'auto';
            
            showNotification('Preview aktif! Klik tombol Admin untuk kembali ke panel.', 'success');
        }

        function resetToDefault() {
            if (confirm('Apakah Anda yakin ingin mereset semua pengaturan ke default?')) {
                // Reset form values
                document.getElementById('headerNamaInstitusi').value = "SALUT IPM KOTA SUKABUMI";
                document.getElementById('headerSubtitle').value = "Universitas Terbuka";
                document.getElementById('headerColorStart').value = "#1e40af";
                document.getElementById('headerColorEnd').value = "#7c3aed";
                document.getElementById('headerMenus').value = "Beranda,Tentang,Program Studi,Pendaftaran,Informasi,Pengurus,Kontak";
                
                document.getElementById('heroTitle').value = "Selamat Datang di SALUT IPM";
                document.getElementById('heroDescription').value = "Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah";
                document.getElementById('heroSubDescription').value = "Universitas Terbuka Kota Sukabumi";
                document.getElementById('heroButton1').value = "Daftar Sekarang";
                document.getElementById('heroButton2').value = "Lihat Program";
                
                document.getElementById('footerDescription').value = "Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah Universitas Terbuka Kota Sukabumi";
                document.getElementById('footerPhone').value = "+62 266 123456";
                document.getElementById('footerEmail').value = "salut.ipm.sukabumi@ut.ac.id";
                document.getElementById('footerAddress').value = "Sukabumi, Jawa Barat";
                document.getElementById('footerPrograms').value = "Manajemen,Akuntansi,Ilmu Komunikasi,Pendidikan Guru SD";
                document.getElementById('footerCopyright').value = "© 2024 SALUT IPM KOTA SUKABUMI - Universitas Terbuka. All rights reserved.";
                
                document.getElementById('socialFacebook').value = "";
                document.getElementById('socialInstagram').value = "";
                document.getElementById('socialTwitter').value = "";
                document.getElementById('socialYoutube').value = "";
                
                // Reset to default settings
                siteSettings = {
                    header: {
                        namaInstitusi: "SALUT IPM KOTA SUKABUMI",
                        subtitle: "Universitas Terbuka",
                        colorStart: "#1e40af",
                        colorEnd: "#7c3aed",
                        menus: ["Beranda", "Tentang", "Program Studi", "Pendaftaran", "Informasi", "Pengurus", "Kontak"]
                    },
                    hero: {
                        title: "Selamat Datang di SALUT IPM",
                        description: "Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah",
                        subDescription: "Universitas Terbuka Kota Sukabumi",
                        button1: "Daftar Sekarang",
                        button2: "Lihat Program"
                    },
                    footer: {
                        description: "Sistem Aplikasi Layanan Untuk Ikatan Pelajar Muhammadiyah Universitas Terbuka Kota Sukabumi",
                        phone: "+62 266 123456",
                        email: "salut.ipm.sukabumi@ut.ac.id",
                        address: "Sukabumi, Jawa Barat",
                        programs: ["Manajemen", "Akuntansi", "Ilmu Komunikasi", "Pendidikan Guru SD"],
                        copyright: "© 2024 SALUT IPM KOTA SUKABUMI - Universitas Terbuka. All rights reserved."
                    },
                    social: {
                        facebook: "",
                        instagram: "",
                        twitter: "",
                        youtube: ""
                    }
                };
                
                // Apply default changes
                applyHeaderChanges();
                applyHeroChanges();
                applyFooterChanges();
                
                // Remove social media section
                const socialSection = document.querySelector('#socialMediaSection');
                if (socialSection) socialSection.remove();
                
                showNotification('Pengaturan berhasil direset ke default!', 'success');
            }
        }

        // Contact Management Functions
        function loadKontakAdmin() {
            // Load current contact settings into form
            document.getElementById('kontakAlamat').value = kontakSettings.alamat;
            document.getElementById('kontakTelepon').value = kontakSettings.telepon;
            document.getElementById('kontakEmail').value = kontakSettings.email;
            document.getElementById('kontakWebsite').value = kontakSettings.website;
            document.getElementById('kontakJamOperasional').value = kontakSettings.jamOperasional;
            
            document.getElementById('whatsappNumber').value = kontakSettings.whatsapp.number;
            document.getElementById('whatsappMessage').value = kontakSettings.whatsapp.message;
            document.getElementById('whatsappEnabled').checked = kontakSettings.whatsapp.enabled;
            
            document.getElementById('formKontakEmail').value = kontakSettings.formKontak.emailPenerima;
            document.getElementById('formKontakAutoReply').value = kontakSettings.formKontak.autoReply;
            document.getElementById('formKontakEnabled').checked = kontakSettings.formKontak.enabled;
            
            loadKontakTambahanList();
        }

        function updateKontak(event) {
            event.preventDefault();
            
            kontakSettings.alamat = document.getElementById('kontakAlamat').value;
            kontakSettings.telepon = document.getElementById('kontakTelepon').value;
            kontakSettings.email = document.getElementById('kontakEmail').value;
            kontakSettings.website = document.getElementById('kontakWebsite').value;
            kontakSettings.jamOperasional = document.getElementById('kontakJamOperasional').value;
            
            applyKontakChanges();
            showNotification('Informasi kontak berhasil diupdate!', 'success');
        }

        function updateWhatsApp(event) {
            event.preventDefault();
            
            kontakSettings.whatsapp.number = document.getElementById('whatsappNumber').value;
            kontakSettings.whatsapp.message = document.getElementById('whatsappMessage').value;
            kontakSettings.whatsapp.enabled = document.getElementById('whatsappEnabled').checked;
            
            applyWhatsAppChanges();
            showNotification('Pengaturan WhatsApp berhasil diupdate!', 'success');
        }

        function updateFormKontak(event) {
            event.preventDefault();
            
            kontakSettings.formKontak.emailPenerima = document.getElementById('formKontakEmail').value;
            kontakSettings.formKontak.autoReply = document.getElementById('formKontakAutoReply').value;
            kontakSettings.formKontak.enabled = document.getElementById('formKontakEnabled').checked;
            
            applyFormKontakChanges();
            showNotification('Pengaturan form kontak berhasil diupdate!', 'success');
        }

        function addKontakTambahan(event) {
            event.preventDefault();
            
            const newKontak = {
                id: Date.now(),
                nama: document.getElementById('kontakTambahanNama').value,
                telepon: document.getElementById('kontakTambahanTelepon').value,
                email: document.getElementById('kontakTambahanEmail').value
            };
            
            kontakTambahan.push(newKontak);
            document.getElementById('tambahKontakForm').reset();
            document.getElementById('tambahKontakForm').classList.add('hidden');
            loadKontakTambahanList();
            applyKontakChanges();
            showNotification('Kontak tambahan berhasil ditambahkan!', 'success');
        }

        function loadKontakTambahanList() {
            const container = document.getElementById('kontakTambahanList');
            container.innerHTML = '';
            
            kontakTambahan.forEach(kontak => {
                const kontakItem = `
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded">
                        <div>
                            <h5 class="font-medium text-gray-800">${kontak.nama}</h5>
                            <p class="text-sm text-gray-600">
                                <i class="fas fa-phone mr-1"></i>${kontak.telepon}
                                ${kontak.email ? `<span class="ml-3"><i class="fas fa-envelope mr-1"></i>${kontak.email}</span>` : ''}
                            </p>
                        </div>
                        <button onclick="deleteKontakTambahan(${kontak.id})" class="text-red-600 hover:text-red-800">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                container.innerHTML += kontakItem;
            });
        }

        function deleteKontakTambahan(id) {
            if (confirm('Apakah Anda yakin ingin menghapus kontak ini?')) {
                kontakTambahan = kontakTambahan.filter(kontak => kontak.id !== id);
                loadKontakTambahanList();
                applyKontakChanges();
                showNotification('Kontak berhasil dihapus!', 'success');
            }
        }

        function applyKontakChanges() {
            // Update contact section
            const kontakSection = document.getElementById('kontak');
            if (kontakSection) {
                const alamatElement = kontakSection.querySelector('.fa-map-marker-alt').parentElement;
                const teleponElement = kontakSection.querySelector('.fa-phone').parentElement;
                const emailElement = kontakSection.querySelector('.fa-envelope').parentElement;
                const websiteElement = kontakSection.querySelector('.fa-globe').parentElement;
                const jamElement = kontakSection.querySelector('.fa-clock').parentElement;
                
                if (alamatElement) alamatElement.innerHTML = `<i class="fas fa-map-marker-alt text-blue-600"></i><span>${kontakSettings.alamat}</span>`;
                if (teleponElement) teleponElement.innerHTML = `<i class="fas fa-phone text-blue-600"></i><span>${kontakSettings.telepon}</span>`;
                if (emailElement) emailElement.innerHTML = `<i class="fas fa-envelope text-blue-600"></i><span>${kontakSettings.email}</span>`;
                if (websiteElement) websiteElement.innerHTML = `<i class="fas fa-globe text-blue-600"></i><span>${kontakSettings.website}</span>`;
                if (jamElement) jamElement.innerHTML = `<i class="fas fa-clock text-blue-600"></i><span>${kontakSettings.jamOperasional}</span>`;
                
                // Add additional contacts
                const infoKontakDiv = kontakSection.querySelector('.space-y-4');
                if (infoKontakDiv && kontakTambahan.length > 0) {
                    // Remove existing additional contacts
                    const existingAdditional = infoKontakDiv.querySelectorAll('.additional-contact');
                    existingAdditional.forEach(el => el.remove());
                    
                    // Add new additional contacts
                    kontakTambahan.forEach(kontak => {
                        const kontakDiv = document.createElement('div');
                        kontakDiv.className = 'flex items-center space-x-3 additional-contact';
                        kontakDiv.innerHTML = `
                            <i class="fas fa-user text-blue-600"></i>
                            <div>
                                <span class="font-medium">${kontak.nama}</span>
                                <span class="text-gray-600 ml-2">${kontak.telepon}</span>
                                ${kontak.email ? `<span class="text-gray-600 ml-2">${kontak.email}</span>` : ''}
                            </div>
                        `;
                        infoKontakDiv.appendChild(kontakDiv);
                    });
                }
            }
        }

        function applyWhatsAppChanges() {
            // Remove existing WhatsApp button
            const existingWA = document.getElementById('whatsappFloat');
            if (existingWA) existingWA.remove();
            
            if (kontakSettings.whatsapp.enabled && kontakSettings.whatsapp.number) {
                // Add floating WhatsApp button
                const waButton = document.createElement('div');
                waButton.id = 'whatsappFloat';
                waButton.className = 'fixed bottom-6 right-6 z-50';
                waButton.innerHTML = `
                    <a href="https://wa.me/${kontakSettings.whatsapp.number}?text=${encodeURIComponent(kontakSettings.whatsapp.message)}" 
                       target="_blank" 
                       class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-colors">
                        <i class="fab fa-whatsapp text-2xl"></i>
                    </a>
                `;
                document.body.appendChild(waButton);
            }
        }

        function applyFormKontakChanges() {
            const formKontak = document.querySelector('#kontak form');
            if (formKontak) {
                if (kontakSettings.formKontak.enabled) {
                    formKontak.style.display = 'block';
                } else {
                    formKontak.style.display = 'none';
                }
            }
        }

        function previewKontak() {
            // Apply all contact changes
            applyKontakChanges();
            applyWhatsAppChanges();
            applyFormKontakChanges();
            
            // Close admin panel and show contact section
            document.getElementById('adminPanel').classList.add('hidden');
            document.body.style.overflow = 'auto';
            showSection('kontak');
            
            showNotification('Preview kontak aktif! Lihat perubahan di halaman kontak.', 'success');
        }

        function resetKontakToDefault() {
            if (confirm('Apakah Anda yakin ingin mereset semua pengaturan kontak ke default?')) {
                kontakSettings = {
                    alamat: "UPBJJ-UT Bogor, Jl. Pajajaran Sukabumi",
                    telepon: "+62 266 123456",
                    email: "salut.ipm.sukabumi@ut.ac.id",
                    website: "www.ut.ac.id",
                    jamOperasional: "Senin - Jumat: 08:00 - 16:00 WIB",
                    whatsapp: {
                        enabled: false,
                        number: "",
                        message: "Halo, saya ingin bertanya tentang SALUT IPM UT Sukabumi"
                    },
                    formKontak: {
                        enabled: true,
                        emailPenerima: "salut.ipm.sukabumi@ut.ac.id",
                        autoReply: "Terima kasih telah menghubungi kami. Pesan Anda akan segera kami balas."
                    }
                };
                
                kontakTambahan = [];
                loadKontakAdmin();
                applyKontakChanges();
                applyWhatsAppChanges();
                applyFormKontakChanges();
                
                showNotification('Pengaturan kontak berhasil direset ke default!', 'success');
            }
        }

        function loadChatAdmin() {
            // Load chat settings into form
            document.getElementById('chatStatusSetting').value = chatSettings.status;
            document.getElementById('autoResponseEnabled').value = chatSettings.autoResponse.toString();
            document.getElementById('welcomeMessage').value = chatSettings.welcomeMessage;
            document.getElementById('autoResponseMessage').value = chatSettings.autoResponseMessage;
            
            // Load quick responses list
            loadQuickResponsesList();
            
            // Load active chats
            loadActiveChatsList();
            
            // Update statistics
            updateChatStatistics();
        }

        // Live Chat Functions
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            const emojiPicker = document.getElementById('emojiPicker');
            
            chatWindow.classList.toggle('hidden');
            emojiPicker.classList.add('hidden');
            
            if (!chatWindow.classList.contains('hidden')) {
                // Initialize chat session if not exists
                if (!currentChatSession) {
                    initializeChatSession();
                }
                // Focus on input
                document.getElementById('chatInput').focus();
                // Mark messages as read
                markMessagesAsRead();
            }
        }

        function initializeChatSession() {
            currentChatSession = {
                id: nextId.chat++,
                startTime: new Date(),
                userId: 'user_' + Date.now(),
                messages: [],
                status: 'active'
            };
            
            activeChats.push(currentChatSession);
            updateChatStatistics();
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                addMessageToChat(message, 'user');
                input.value = '';
                
                // Simulate admin response
                if (chatSettings.autoResponse) {
                    setTimeout(() => {
                        showTypingIndicator();
                        setTimeout(() => {
                            hideTypingIndicator();
                            const response = generateAutoResponse(message);
                            addMessageToChat(response, 'admin');
                        }, 1500);
                    }, 500);
                }
            }
        }

        function sendQuickMessage(message) {
            document.getElementById('chatInput').value = message;
            sendMessage();
        }

        function addMessageToChat(message, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex items-start space-x-2';
            
            const time = new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex-1"></div>
                    <div class="bg-blue-600 text-white p-3 rounded-lg max-w-xs">
                        <p class="text-sm">${message}</p>
                        <span class="text-xs text-blue-200">${time}</span>
                    </div>
                    <div class="w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-user text-white text-xs"></i>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-headset text-white text-xs"></i>
                    </div>
                    <div class="bg-white p-3 rounded-lg shadow-sm max-w-xs">
                        <p class="text-sm text-gray-800">${message}</p>
                        <span class="text-xs text-gray-500">${time}</span>
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Store message
            const messageObj = {
                id: Date.now(),
                message: message,
                sender: sender,
                timestamp: new Date(),
                chatId: currentChatSession?.id
            };
            
            chatMessages.push(messageObj);
            if (currentChatSession) {
                currentChatSession.messages.push(messageObj);
            }
            
            // Update notification
            if (sender === 'admin' && document.getElementById('chatWindow').classList.contains('hidden')) {
                showChatNotification();
            }
        }

        function generateAutoResponse(userMessage) {
            const message = userMessage.toLowerCase();
            
            if (message.includes('pendaftaran') || message.includes('daftar')) {
                return "Untuk informasi pendaftaran, Anda bisa mengunjungi menu Pendaftaran di website kami atau menghubungi kami di +62 266 123456. Pendaftaran dibuka setiap semester dengan berbagai program studi yang tersedia.";
            } else if (message.includes('program') || message.includes('jurusan')) {
                return "Kami memiliki berbagai program studi S1 seperti:\n• Manajemen\n• Akuntansi\n• Ilmu Komunikasi\n• Pendidikan Guru SD\n\nSemua program terakreditasi dengan sistem pembelajaran jarak jauh yang fleksibel.";
            } else if (message.includes('biaya') || message.includes('uang')) {
                return "Untuk informasi biaya kuliah, silakan hubungi admin kami di +62 266 123456 atau email salut.ipm.sukabumi@ut.ac.id. Kami juga menyediakan berbagai program beasiswa untuk mahasiswa berprestasi.";
            } else if (message.includes('tutorial') || message.includes('jadwal')) {
                return "Jadwal tutorial online akan diinformasikan melalui platform e-learning UT. Anda juga bisa mengecek informasi terbaru di menu Informasi website kami.";
            } else if (message.includes('terima kasih') || message.includes('thanks')) {
                return "Sama-sama! Senang bisa membantu Anda. Jika ada pertanyaan lain, jangan ragu untuk bertanya. Kami siap membantu! 😊";
            } else {
                return chatSettings.autoResponseMessage;
            }
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'flex items-start space-x-2';
            typingDiv.innerHTML = `
                <div class="w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-headset text-white text-xs"></i>
                </div>
                <div class="bg-white p-3 rounded-lg shadow-sm">
                    <div class="flex space-x-1">
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function toggleEmoji() {
            const emojiPicker = document.getElementById('emojiPicker');
            emojiPicker.classList.toggle('hidden');
        }

        function insertEmoji(emoji) {
            const input = document.getElementById('chatInput');
            input.value += emoji;
            input.focus();
            document.getElementById('emojiPicker').classList.add('hidden');
        }

        function attachFile() {
            showNotification('Fitur upload file akan segera tersedia!', 'success');
        }

        function showChatNotification() {
            const notification = document.getElementById('chatNotification');
            let count = parseInt(notification.textContent) || 0;
            count++;
            notification.textContent = count;
            notification.classList.remove('hidden');
        }

        function markMessagesAsRead() {
            const notification = document.getElementById('chatNotification');
            notification.classList.add('hidden');
            notification.textContent = '0';
        }

        // Admin Chat Functions
        function openChatAdminPanel() {
            document.getElementById('chatAdminPanel').classList.remove('hidden');
            loadActiveChatsList();
        }

        function closeChatAdmin() {
            document.getElementById('chatAdminPanel').classList.add('hidden');
        }

        function sendAdminResponse(message) {
            if (currentChatSession) {
                addMessageToChat(message, 'admin');
            }
        }

        function loadActiveChatsList() {
            const container = document.getElementById('activeChatsList');
            container.innerHTML = '';
            
            activeChats.forEach(chat => {
                const chatItem = document.createElement('div');
                chatItem.className = 'p-3 bg-gray-50 rounded cursor-pointer hover:bg-gray-100';
                chatItem.innerHTML = `
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="font-medium">Chat #${chat.id}</p>
                            <p class="text-sm text-gray-600">${chat.messages.length} pesan</p>
                        </div>
                        <div class="text-right">
                            <p class="text-xs text-gray-500">${chat.startTime.toLocaleTimeString('id-ID')}</p>
                            <span class="inline-block w-2 h-2 bg-green-500 rounded-full"></span>
                        </div>
                    </div>
                `;
                chatItem.onclick = () => selectChat(chat.id);
                container.appendChild(chatItem);
            });
        }

        function selectChat(chatId) {
            // Implementation for selecting specific chat
            showNotification(`Chat #${chatId} dipilih`, 'success');
        }

        function updateChatSettings(event) {
            event.preventDefault();
            
            chatSettings.status = document.getElementById('chatStatusSetting').value;
            chatSettings.autoResponse = document.getElementById('autoResponseEnabled').value === 'true';
            chatSettings.welcomeMessage = document.getElementById('welcomeMessage').value;
            chatSettings.autoResponseMessage = document.getElementById('autoResponseMessage').value;
            
            // Update chat status display
            const statusText = {
                'online': 'Online - Siap membantu',
                'busy': 'Sibuk - Respon lambat',
                'offline': 'Offline - Di luar jam kerja'
            };
            
            document.getElementById('chatStatus').textContent = statusText[chatSettings.status];
            
            showNotification('Pengaturan chat berhasil diupdate!', 'success');
        }

        function addQuickResponse(event) {
            event.preventDefault();
            
            const newResponse = {
                id: nextId.quickResponse++,
                title: document.getElementById('quickResponseTitle').value,
                category: document.getElementById('quickResponseCategory').value,
                text: document.getElementById('quickResponseText').value
            };
            
            quickResponses.push(newResponse);
            document.getElementById('quickResponseForm').reset();
            document.getElementById('quickResponseForm').classList.add('hidden');
            loadQuickResponsesList();
            showNotification('Quick response berhasil ditambahkan!', 'success');
        }

        function loadQuickResponsesList() {
            const container = document.getElementById('quickResponsesList');
            container.innerHTML = '';
            
            quickResponses.forEach(response => {
                const responseItem = document.createElement('div');
                responseItem.className = 'border rounded-lg p-4';
                responseItem.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <div class="flex items-center space-x-2 mb-2">
                                <h4 class="font-semibold text-gray-800">${response.title}</h4>
                                <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">${response.category}</span>
                            </div>
                            <p class="text-gray-600 text-sm">${response.text}</p>
                        </div>
                        <div class="flex space-x-2 ml-4">
                            <button onclick="editQuickResponse(${response.id})" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteQuickResponse(${response.id})" class="text-red-600 hover:text-red-800">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(responseItem);
            });
        }

        function editQuickResponse(id) {
            showNotification('Fitur edit quick response akan segera tersedia!', 'success');
        }

        function deleteQuickResponse(id) {
            if (confirm('Apakah Anda yakin ingin menghapus quick response ini?')) {
                quickResponses = quickResponses.filter(response => response.id !== id);
                loadQuickResponsesList();
                showNotification('Quick response berhasil dihapus!', 'success');
            }
        }

        function refreshActiveChats() {
            loadActiveChatsList();
            updateChatStatistics();
            showNotification('Data chat berhasil direfresh!', 'success');
        }

        function loadChatHistory() {
            const date = document.getElementById('chatHistoryDate').value;
            const container = document.getElementById('chatHistoryList');
            
            if (!date) {
                showNotification('Pilih tanggal terlebih dahulu!', 'error');
                return;
            }
            
            // Simulate loading chat history
            container.innerHTML = `
                <div class="text-center py-8 text-gray-500">
                    <i class="fas fa-history text-3xl mb-2"></i>
                    <p>Tidak ada riwayat chat untuk tanggal ${new Date(date).toLocaleDateString('id-ID')}</p>
                </div>
            `;
        }

        function exportChatHistory() {
            if (chatHistory.length === 0) {
                showNotification('Tidak ada data chat untuk diexport', 'error');
                return;
            }
            
            // Create CSV content for chat history
            const headers = ['Tanggal', 'Waktu', 'Chat ID', 'Pengirim', 'Pesan'];
            const csvContent = [
                headers.join(','),
                ...chatHistory.map(chat => [
                    chat.timestamp.toLocaleDateString('id-ID'),
                    chat.timestamp.toLocaleTimeString('id-ID'),
                    chat.chatId,
                    chat.sender,
                    `"${chat.message}"`
                ].join(','))
            ].join('\n');
            
            // Download file
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `chat_history_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Riwayat chat berhasil diexport!', 'success');
        }

        function updateChatStatistics() {
            const today = new Date().toDateString();
            const todayChats = chatMessages.filter(msg => msg.timestamp.toDateString() === today);
            
            document.getElementById('totalChatsToday').textContent = todayChats.length;
            document.getElementById('activeChatsCount').textContent = activeChats.length;
            
            // Update statistics in admin panel if visible
            const adminTotalChats = document.querySelector('#chat-admin #totalChatsToday');
            const adminActiveChats = document.querySelector('#chat-admin #activeChatsCount');
            
            if (adminTotalChats) adminTotalChats.textContent = todayChats.length;
            if (adminActiveChats) adminActiveChats.textContent = activeChats.length;
        }

        // Staff Functions
        function loadStaff() {
            const container = document.getElementById('staffContainer');
            container.innerHTML = '';
            
            staff.forEach(item => {
                const staffCard = createStaffCard(item);
                container.innerHTML += staffCard;
            });
        }

        function createStaffCard(item) {
            const kategoriColors = {
                'dosen': 'bg-blue-100 text-blue-800',
                'tutor': 'bg-green-100 text-green-800',
                'pengajar': 'bg-purple-100 text-purple-800',
                'admin': 'bg-orange-100 text-orange-800'
            };

            const kategoriLabels = {
                'dosen': 'Dosen',
                'tutor': 'Tutor',
                'pengajar': 'Pengajar',
                'admin': 'Admin Akademik'
            };

            return `
                <div class="bg-white rounded-lg shadow-lg overflow-hidden card-hover staff-card" data-kategori="${item.kategori}">
                    <div class="p-6 text-center">
                        <div class="w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                            ${item.foto ? `<img src="${item.foto}" alt="${item.nama}" class="w-full h-full rounded-full object-cover">` : `<i class="fas fa-user text-white text-2xl"></i>`}
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">${item.nama}</h3>
                        <div class="flex justify-center mb-3">
                            <span class="${kategoriColors[item.kategori]} px-3 py-1 rounded-full text-sm font-medium">
                                ${kategoriLabels[item.kategori]}
                            </span>
                        </div>
                        <p class="text-blue-600 font-medium mb-2">${item.bidang}</p>
                        <p class="text-sm text-gray-600 mb-2">${item.prodi}</p>
                        <p class="text-sm text-gray-500 mb-3">${item.pendidikan} • ${item.pengalaman} tahun</p>
                        
                        ${item.mataKuliah && item.mataKuliah.length > 0 ? `
                            <div class="mb-3">
                                <p class="text-xs text-gray-500 mb-1">Mata Kuliah:</p>
                                <div class="flex flex-wrap gap-1 justify-center">
                                    ${item.mataKuliah.slice(0, 2).map(mk => `<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs">${mk}</span>`).join('')}
                                    ${item.mataKuliah.length > 2 ? `<span class="text-xs text-gray-500">+${item.mataKuliah.length - 2} lainnya</span>` : ''}
                                </div>
                            </div>
                        ` : ''}
                        
                        <div class="flex justify-center space-x-3 text-sm">
                            <a href="mailto:${item.email}" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-envelope"></i>
                            </a>
                            ${item.telepon ? `<a href="tel:${item.telepon}" class="text-green-600 hover:text-green-800"><i class="fas fa-phone"></i></a>` : ''}
                        </div>
                        
                        ${item.bio ? `
                            <button onclick="showStaffDetail(${item.id})" class="mt-3 text-blue-600 hover:text-blue-800 text-sm">
                                <i class="fas fa-info-circle mr-1"></i>Lihat Detail
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function filterStaff(kategori) {
            // Update active button
            document.querySelectorAll('.staff-filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filter staff cards
            const staffCards = document.querySelectorAll('.staff-card');
            staffCards.forEach(card => {
                if (kategori === 'all' || card.dataset.kategori === kategori) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function showStaffDetail(id) {
            const staffMember = staff.find(s => s.id === id);
            if (staffMember) {
                const mataKuliahList = staffMember.mataKuliah && staffMember.mataKuliah.length > 0 
                    ? `\n\nMata Kuliah yang Diampu:\n• ${staffMember.mataKuliah.join('\n• ')}`
                    : '';
                
                alert(`Detail Staff/Dosen:\n\nNama: ${staffMember.nama}\nKategori: ${staffMember.kategori}\nNIDN/NIP: ${staffMember.nidn || 'Tidak ada'}\nPendidikan: ${staffMember.pendidikan}\nBidang Keahlian: ${staffMember.bidang}\nProgram Studi: ${staffMember.prodi}\nEmail: ${staffMember.email}\nTelepon: ${staffMember.telepon || 'Tidak ada'}\nPengalaman: ${staffMember.pengalaman} tahun\nStatus: ${staffMember.status}${mataKuliahList}\n\nBio:\n${staffMember.bio || 'Tidak ada bio'}`);
            }
        }

        // Staff Admin Functions
        function loadStaffAdmin() {
            loadStaffAdminList();
        }

        function addStaff(event) {
            event.preventDefault();
            
            const fotoFile = document.getElementById('staffFoto').files[0];
            
            const saveStaff = (foto) => {
                const mataKuliahArray = document.getElementById('staffMataKuliah').value
                    ? document.getElementById('staffMataKuliah').value.split(',').map(mk => mk.trim())
                    : [];

                const newStaff = {
                    id: nextId.staff++,
                    nama: document.getElementById('staffNama').value,
                    kategori: document.getElementById('staffKategori').value,
                    nidn: document.getElementById('staffNidn').value,
                    pendidikan: document.getElementById('staffPendidikan').value,
                    bidang: document.getElementById('staffBidang').value,
                    prodi: document.getElementById('staffProdi').value,
                    email: document.getElementById('staffEmail').value,
                    telepon: document.getElementById('staffTelepon').value,
                    pengalaman: parseInt(document.getElementById('staffPengalaman').value) || 0,
                    status: document.getElementById('staffStatus').value,
                    foto: foto,
                    mataKuliah: mataKuliahArray,
                    bio: document.getElementById('staffBio').value
                };
                
                staff.push(newStaff);
                document.getElementById('staffForm').reset();
                document.getElementById('staffForm').classList.add('hidden');
                loadStaffAdminList();
                showNotification('Staff/Dosen berhasil ditambahkan!', 'success');
            };
            
            if (fotoFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    saveStaff(e.target.result);
                };
                reader.readAsDataURL(fotoFile);
            } else {
                saveStaff(null);
            }
        }

        function loadStaffAdminList() {
            const container = document.getElementById('staffAdminList');
            container.innerHTML = '';
            
            const filteredStaff = getFilteredStaff();
            
            filteredStaff.forEach(item => {
                const kategoriColors = {
                    'dosen': 'bg-blue-100 text-blue-800',
                    'tutor': 'bg-green-100 text-green-800',
                    'pengajar': 'bg-purple-100 text-purple-800',
                    'admin': 'bg-orange-100 text-orange-800'
                };

                const staffItem = `
                    <div class="border rounded-lg p-4">
                        <div class="flex items-start space-x-4">
                            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
                                ${item.foto ? `<img src="${item.foto}" alt="${item.nama}" class="w-full h-full rounded-full object-cover">` : `<i class="fas fa-user text-white text-xl"></i>`}
                            </div>
                            <div class="flex-1">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h4 class="font-semibold text-gray-800">${item.nama}</h4>
                                        <div class="flex items-center space-x-2 mb-2">
                                            <span class="${kategoriColors[item.kategori]} px-2 py-1 rounded text-xs">${item.kategori}</span>
                                            <span class="text-sm text-gray-600">${item.pendidikan}</span>
                                        </div>
                                        <p class="text-sm text-gray-600">${item.bidang} - ${item.prodi}</p>
                                        <p class="text-sm text-gray-500">${item.nidn || 'Tanpa NIDN'} | ${item.email}</p>
                                        <p class="text-xs text-gray-400">${item.pengalaman} tahun pengalaman - Status: ${item.status}</p>
                                        ${item.mataKuliah && item.mataKuliah.length > 0 ? `
                                            <p class="text-xs text-gray-500 mt-1">Mata Kuliah: ${item.mataKuliah.join(', ')}</p>
                                        ` : ''}
                                    </div>
                                    <div class="flex space-x-2">
                                        <button onclick="editStaff(${item.id})" class="text-blue-600 hover:text-blue-800">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button onclick="deleteStaff(${item.id})" class="text-red-600 hover:text-red-800">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += staffItem;
            });
        }

        function getFilteredStaff() {
            const filter = document.getElementById('staffFilterAdmin')?.value || 'all';
            if (filter === 'all') {
                return staff;
            }
            return staff.filter(item => item.kategori === filter);
        }

        function filterStaffAdmin() {
            loadStaffAdminList();
        }

        function editStaff(id) {
            showNotification('Fitur edit staff akan segera tersedia!', 'success');
        }

        function deleteStaff(id) {
            if (confirm('Apakah Anda yakin ingin menghapus data staff/dosen ini?')) {
                staff = staff.filter(item => item.id !== id);
                loadStaffAdminList();
                showNotification('Data staff/dosen berhasil dihapus!', 'success');
            }
        }

        function exportStaffData() {
            if (staff.length === 0) {
                showNotification('Tidak ada data staff untuk diexport', 'error');
                return;
            }
            
            // Create CSV content
            const headers = ['No', 'Nama', 'Kategori', 'NIDN/NIP', 'Pendidikan', 'Bidang Keahlian', 'Program Studi', 'Email', 'Telepon', 'Pengalaman', 'Status', 'Mata Kuliah'];
            const csvContent = [
                headers.join(','),
                ...staff.map((item, index) => [
                    index + 1,
                    `"${item.nama}"`,
                    item.kategori,
                    item.nidn || '-',
                    item.pendidikan,
                    `"${item.bidang}"`,
                    `"${item.prodi}"`,
                    item.email,
                    item.telepon || '-',
                    item.pengalaman,
                    item.status,
                    `"${item.mataKuliah ? item.mataKuliah.join('; ') : '-'}"`
                ].join(','))
            ].join('\n');
            
            // Download file
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `data_staff_dosen_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Data staff & dosen berhasil diexport!', 'success');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadProgram();
            loadInformasi();
            loadStaff();
            loadPengurus();
            updateStatistics();
            updateProgressBar();
            updateNavigationButtons();
            
            // Initialize chat system
            updateChatStatistics();
            
            // Auto-update chat statistics every 30 seconds
            setInterval(updateChatStatistics, 30000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96c30b71c43546c1',t:'MTc1NDY5ODM3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
